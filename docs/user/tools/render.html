<html lang="en">

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Tool: Render/Select by Attribute</title>
<style>@media (prefers-color-scheme: dark) { :root { color-scheme: dark; } }</style>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRighticon" title="User Guide Index"/></a>

<table class="clRight">
<tr><td>
<a href="worms.png" title="click to enlarge...">
<img class="outline" src="worms.png" alt="1pho B-factor worms/coloing"
width="250px"></a></td></tr>
<tr><td align="center"><font size="-1">
<b>1pho coloring and worms by B-factor</b>
(<a href="https://www.rbvi.ucsf.edu/chimerax/features.html#worms"
target="_blank">more...</a>)</font></td></tr>
</table>

<h3><a href="../index.html#tools">Tool</a>: Render/Select by Attribute</h3>
<p>
<b>Render/Select by Attribute</b> performs functions according to the values
of <a href="../attributes.html">attributes</a> (built-in or user-defined):
</p>
<ul>
<li>visual rendering of numerical attributes with <a href="#colors">colors</a>,
atomic <a href="#radii">radii</a>, or <a href="#worms">worms</a>, where a 
<b><i>worm</i></b> is a specialized cartoon of variable radius per residue
<li><a href="#select">selection</a> by numerical, boolean, 
or string attribute value
</ul>
<p>
<b>Render/Select by Attribute</b> is the graphical interface to the commands
<a href="../commands/color.html#byattribute"><b>color byattribute</b></a>,
<a href="../commands/size.html#byattribute"><b>size byattribute</b></a>,
<a href="../commands/cartoon.html#byattribute"><b>cartoon byattribute</b></a>,
and <a href="../commands/select.html"><b>select</b></a> (with command-line
<a href="../commands/atomspec.html#attributes">specification by attribute</a>).
See also: 
<a href="thermalellipsoids.html"><b>Thermal Ellipsoids</b></a>,
<a href="surfacecolor.html"><b>Surface Color</b></a>,
<a href="colorkey.html"><b>Color Key</b></a>, the <b>color bfactor</b> icon
<a href="moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="shortcut-icons/bfactor.png"></a>
in the <a href="moldisplay.html"><b>Molecule Display Toolbar</b></a>,
the <a href="../menu.html#select"><b>Select</b> menu</a>,
<a href="../measurements.html">measurements</a>
</p><p>
<b>Render/Select by Attribute</b> set to its <b>Render</b> tab
can be opened from the <b>Depiction</b> or <b>Structure Analysis</b> 
section of the <b>Tools</b> menu
and manipulated like other panels (<a href="../window.html#panels">more...</a>).
Choosing
<a href="../menu.html#select"><b>Select... By Attribute Value...</b></a>
from the main ChimeraX menu opens the tool set to its 
<a href="#select"><b>Select</b></a> tab.
</p>
<blockquote><b>
<a href="#choosemodel">Choosing Model and Attribute</a>
<br>
<a href="#histogram">Histogram or List of Attribute Values</a>
<br>
<a href="#context">Buttons and Context Menu</a>
<br>
<a href="#colors">Colors</a>
<br>
<a href="#radii">Radii</a>
<br>
<a href="#worms">Worms</a>
</b></blockquote>

<a name="choosemodel"></a>
<p class="nav">
[<a href="#top">back to top: Render by Attribute</a>]
</p>
<h3>Choosing Model and Attribute</h3>
<p>
The <b>Models</b> list includes all open atomic models.
Individual models or blocks of models can be chosen with the left mouse
button. Ctrl-click toggles the status of an individual model.
To choose a block of models without dragging,
click on the first (or last) and then Shift-click
on the last (or first) in the desired block.
</p><p>
The <b>Attribute of</b> menu specifies whether the
<a href="../attributes.html">attribute</a> of interest is at the level of 
<b>atoms</b>, <b>residues</b>, <b>chains</b>,
or <b>structures</b> (atomic models). 
The <b>Attribute</b> can then be chosen from the list of 
attributes available within the <a href="#choosemodel">chosen models</a>.
</p><p>
In the <b>Render</b> tab, only <b><i>numerical</i></b> attributes 
are available, whereas the <b>Select</b> tab also allows using boolean
and string-valued attributes. These may include:
<ul>
<li><b>atoms</b>
  <ul>
  <li><b>bfactor</b> &ndash; B-factor (temperature factor;
  generally read from
  <a href="../formats/pdbintro.html#coords">PDB</a> or mmCIF)
  <li><b>occupancy</b> &ndash; occupancy (generally read from
  <a href="../formats/pdbintro.html#coords">PDB</a> or mmCIF)
  <li><b>radius</b> &ndash; <a href="../radii.html">VDW radius</a>
  <li><a href="../attributes.html#atom">atom attributes</a>
generated by certain actions, such as <b>area</b> from using
<a href="../commands/measure.html#sasa"><b>measure sasa</b></a>,
<b>charge</b> from using 
<a href="../commands/addcharge.html"><b>addcharge</b></a>, <i>etc.</i>
  </ul>
<li><b>residues</b>
  <ul>
  <li><b>chi1, chi2</b>, ... amino acid sidechain angles
  <li><b>phi, psi, omega</b> &ndash; peptide backbone angles
  <li><a href="../attributes.html#residue">residue attributes</a>
generated by certain actions, such as <b>area</b> from using
<a href="../commands/measure.html#sasa"><b>measure sasa</b></a>,
or <a href="sequenceviewer.html#headers"><b>seq_conservation</b></a>
and <a href="sequenceviewer.html#headers"><b>seq_rmsd</b></a>
from the <a href="sequenceviewer.html"><b>Sequence Viewer</b></a>
  </ul>
<li><b>chains</b>
  <ul>
  <li><a href="../attributes.html#chain">chain attributes</a>
(which may be <a href="../formats/defattr.html">user-defined</a>;
the built-in ones may be less interesting for visualization)
  </ul>
<li><b>structures</b> (atomic models)
  <ul>
  <li><a href="../attributes.html#model">model attributes</a>
generated by certain actions, 
such as <b>modeller_GA341</b> and <b>modeller_zDOPE</b>
quality scores from <a href="modeller.html">comparative modeling</a>
  </ul>
</ul>
<p>
<a name="custom"></a>
Custom attributes
of atoms, residues, and molecule models can be created arbitrarily with
<a href="../commands/defattr.html"><b>defattr</b></a> and
<a href="../commands/setattr.html"><b>setattr</b></a> and (if numerical)
mapped to colors with this tool.
</p>

<a name="histogram"></a>
<p class="nav">
[<a href="#top">back to top: Render/Select by Attribute</a>]
</p>
<h3>Histogram or List of Attribute Values</h3>
<p>
In the <b>Render</b> section:
</p>
<blockquote>
Choosing an attribute as described above shows a histogram of its
values in the <a href="#choosemodel">chosen</a> models.
</p><p>
Each <b><i>threshold</i></b> or
vertical bar on the histogram has a <b>Value</b>
(position on the histogram). It also has an associated
<b>Color</b> (if the <b>Colors</b> tab is chosen), <b>Atom radius</b>
(if the <b>Radii</b> tab is chosen), or <b>Worm radius</b> (if the
<b>Worms</b> tab is chosen).
Together, the thresholds specify how the colors or radii should map to values.
Clicking on a threshold shows its <b>Value</b> in black.
Clicking elsewhere within the histogram shows the <b>Value</b>
(X-coordinate) of the mouseclick in gray.
A threshold can be moved by changing its <b>Value</b>
and then pressing Enter (return) or by dragging it horizontally
with the left mouse button. 
Thresholds can be added by Shift-clicking on the histogram, 
whereas Shift-clicking an existing threshold deletes it.
</p><p>
<b>Restrict to selection</b> limits rendering by attribute to the current
<a href="../selection.html">selection</a>.
</p>
</blockquote>
<p>
<a name="select"></a>
The <b>Select</b> tab of <a href="#top"><b>Render/Select by Attribute</b></a>
performs <a href="../selection.html">selection</a> of atoms, residues, 
and structures (atomic models) based on their <a href="../attributes.html">attribute</a> values. In this section:
<blockquote>
<p>
If the chosen attribute is numerical, the dialog shows a histogram of its
values in the <a href="#choosemodel">chosen</a> models.
The two <b><i>thresholds</i></b> or vertical bars on the histogram 
define a value range for <a href="../selection.html">selection</a>,
either <b>between</b> (inclusive) or <b>outside</b> their positions. 
Each threshold can be moved by dragging or directly entering a new value.
The <b>Value</b> field applies to the threshold most recently moved or clicked. 
The <b>no value</b> option allows selecting items with no value assigned 
for the chosen attribute. For example, nucleic acid residues do not have 
peptide backbone <b>phi</b> angles.
</p><p>
If the chosen attribute is boolean, checkboxes allow specifying whether
to <a href="../selection.html">select</a>
items for which the attribute is <b>true</b> or <b>false</b>.
</p><p>
If the chosen attribute is string-valued, a list of the values is shown.
Individual rows or blocks of values can be chosen/unchosen by mouseclick
or drag. Note that for the <a href="../attributes.html#atom"><b>alt_loc</b></a>
attribute, only the values of currently used locations are listed,
not all those present in the input file. 
Which alternate locations to use can be set with the
<a href="altlocexplorer.html"><b>AltLoc Explorer</b></a> or the
<a href="../commands/altlocs.html"><b>altlocs</b></a> command.
</p>
</blockquote>

<a name="context"></a>
<p class="nav">
[<a href="#top">back to top: Render/Select by Attribute</a>]
</p>
<h3>Buttons and Context Menu</h3>
<p>
Clicking <b>Apply</b> performs the action (rendering or
<a href="../selection.html">selection</a>) without closing the dialog,
whereas <b>OK</b> performs the action and dismisses the dialog.
Clicking <b>Save File...</b> opens a dialog to save attribute values to an
<a href="../formats/defattr.html">attribute assignment file</a>.
<b>Close</b> simply dismisses the dialog, and <b>Help</b> shows this page 
in the <a href="helpviewer.html"><b>Help Viewer</b></a>.
</p>
<p>
<b>Render/Select by Attribute</b> has a
<a href="../window.html#context-menu">context menu</a>
with choices including:
<p>
<ul>
<li><b>Histogram Scaling</b>
&ndash; <a href="#histogram">histogram</a> bar heights indicate
the prevalence of different values of the attribute, with scaling as follows:
 <ul>
 <li><b>Linear</b>
 <li><b>Logarithmic</b> (default)
 </ul>
</ul>

<a name="colors"></a>
<p class="nav">
[<a href="#top">back to top: Render/Select by Attribute</a>]
</p>
<h3>Colors</h3>
<p>
The <b>Value</b> and <b>Color</b>
settings apply to the <a href="#histogram">threshold</a>
most recently moved or clicked.
Clicking a color well opens the system color editor 
for choosing a color interactively.
Coloring can be applied to <b>atoms</b>, <b>cartoons</b>, and/or
molecular <b>surfaces</b>. 
</p>
<ul>
<li><b>Color missing values with</b> (a color well, default
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor="#808080" width="10px" title="blue"></td></tr></table>)
allows coloring atoms, residues, or models that have
no value assigned for the chosen attribute.
For example, nucleic acid residues do not have peptide backbone
<b>phi</b> angles. If the option is turned off (unchecked), any
no-value atoms, <i>etc.</i> will retain their current colors.
<br><br>
<li>Choosing a <b>Palette</b> changes the colors without changing
the number of thresholds or their positions.
The desired number of thresholds should be present before the palette
is chosen; individual colors can be changed afterwards with the system 
color editor.
Many <a href="../commands/palettes.html">built-in palettes</a> are available.
Only the ones with the same number of colors as the current number of
thresholds will be listed; for example, the <b>rainbow</b> palette will
not be listed unless there are exactly 5 thresholds in the histogram.
If any colors are set interactively, the palette name will be
shown as <b>custom</b>.
<br><br>
<li>Clicking <b>Reverse threshold colors</b> reverses the current colors
without changing the number of thresholds or their positions.
<br><br>
<li>Clicking <b>Create corresponding color key</b> opens the
<a href="colorkey.html"><b>Color Key</b></a> tool and populates it 
with the current colors and values; a color key can then be 
<a href="colorkey.html#adjust">drawn interactively</a> 
in the graphics window using the settings in that tool.
</ul>

<a name="radii"></a>
<p class="nav">
[<a href="#top">back to top: Render/Select by Attribute</a>]
</p>
<h3>Radii</h3>
<p>
The <b>Value</b> and <b>Atom radius</b>
settings apply to the <a href="#histogram">threshold</a>
most recently moved or clicked.
Rendering will change the <a href="../radii.html">VDW radii</a> of the atoms.
If needed, default VDW radii can be restored with the 
<a href="../commands/size.html"><b>size</b></a> command.
</p>
<ul>
<li><b>Atom style</b>
  <ul>
  <li><b>sphere</b> (default)
  &ndash; display radius same as <a href="../radii.html">VDW radius</a>,
  directly reflecting the user-specified sizes
  <li><b>ball</b> 
  &ndash; <a href="../radii.html">VDW radius</a> multiplied by the
  <a href="../commands/size.html">ball scale factor</a> (usually 0.3)
  <li><b>unchanged</b> 
  &ndash; retain the pre-existing style of each atom
  (stick, ball, or sphere); note stick size is unaffected by VDW radii
  </ul>
<br>
<li><b>Affect no-value atoms</b>
&ndash; whether to use the <b>No-value radius</b> (below)
for atoms, residues, or 
atomic models that have no value assigned for the chosen attribute.
For example, nucleic acid residues do not have peptide backbone
<b>phi</b> angles. If the option is turned off (unchecked), any
no-value atoms, <i>etc.</i> will retain their current VDW radii.
<br><br>
<li><b>No-value radius</b>
&ndash; VDW radius to assign to no-value atoms when the 
<b>Affect no-value atoms</b> option (above) is used
</ul>

<a name="worms"></a>
<p class="nav">
[<a href="#top">back to top: Render/Select by Attribute</a>]
</p>
<h3>Worms</h3>
<p>
The <b>Value</b> and <b>Worm radius</b>
settings apply to the <a href="#histogram">threshold</a>
most recently moved or clicked.
Attribute values are mapped to worm radius on a per-residue basis,
and only biopolymer chains can be shown as worms.
If an <a href="../attributes.html#atom">atom attribute</a> is given,
the average value over all atoms in a residue is used for that residue.
</p>
<ul>
<li><b>No-value radius</b>
&ndash; worm radius to use for biopolymer residues that have no value
assigned for the chosen attribute
</ul>
<p>
Once generated, the worm radii are remembered separately from the other
cartoon parameters as a residue
<a href="../attributes.html">attribute</a> named <b>worm_radius</b>.
Clicking <b>Deworm</b> returns to the previous non-worm cartoon.
The command
<a href="../commands/cartoon.html#byattribute"><b>cartoon byattribute</b></a>
(<a href="../commands/cartoon.html#worm"><b>worm</b></a>)
can also be used to toggle back and forth between the previous non-worm 
cartoon and a previously defined worm display.
</p>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
May 2025</address>
</body></html>
