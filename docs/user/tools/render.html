<html>

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Tool: Render by Attribute</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRight" title="User Guide Index"/></a>

<h3><a href="../index.html#tools">Tool</a>: Render by Attribute</h3>
<p>
<b>Render by Attribute</b> colors atomic models and molecular surfaces
to show the values of a numerical <a href="../attributes.html">attribute</a>
such as atomic <b>bfactor</b> or residue <b>area</b>.
<b>Render by Attribute</b> is the graphical interface to the command
<a href="../commands/color.html#byattribute"><b>color by attribute</b></a>.
See also: 
<a href="surfacecolor.html"><b>Surface Color</b></a>,
<a href="colorkey.html"><b>Color Key</b></a>, the <b>color bfactor</b> icon
<a href="moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="shortcut-icons/bfactor.png"></a>
in the <a href="moldisplay.html"><b>Molecule Display Toolbar</b></a>
</p><p>
The <b>Render by Attribute</b> dialog can be opened from the
<b>Depiction</b> or <b>Structure Analysis</b> section of the <b>Tools</b> menu
and manipulated like other panels (<a href="../window.html#panels">more...</a>).
</p>
<blockquote><b>
<a href="#choosemodel">Choosing Model and Attribute</a>
<br>
<a href="#histogram">Histogram and Colors</a>
</b></blockquote>

<a name="choosemodel"></a>
<p class="nav">
[<a href="#top">back to top: Render by Attribute</a>]
</p>
<h3>Choosing Model and Attribute</h3>
<p>
The <b>Models</b> list includes all open atomic models.
Individual models or blocks of models can be chosen with the left mouse
button. Ctrl-click toggles the status of an individual model.
To choose a block of models without dragging,
click on the first (or last) and then Shift-click
on the last (or first) in the desired block.
</p><p>
The <b>Attribute of</b> menu specifies whether the
<a href="../attributes.html">attribute</a> of interest is at the level of 
<b>atoms</b>, <b>residues</b>, or <b>structures</b> (atomic models). 
The <b>Attribute</b> can then be chosen from the list of 
attributes available within the <a href="#choosemodel">chosen models</a>.
Only <b><i>numerical</i></b> attributes can be used for coloring;
these may include:
<ul>
<li><b>atoms</b>
  <ul>
  <li><b>bfactor</b> &ndash; B-factor (temperature factor;
  generally read from
  <a href="../formats/pdbintro.html#coords">PDB</a> or mmCIF)
  <li><b>occupancy</b> &ndash; occupancy (generally read from
  <a href="../formats/pdbintro.html#coords">PDB</a> or mmCIF)
  <li><b>radius</b> &ndash; <a href="../radii.html">VDW radius</a>
  <li><a href="../attributes.html#atom">atom attributes</a>
generated by certain actions, such as <b>area</b> from using
<a href="../commands/measure.html#sasa"><b>measure sasa</b></a>,
<b>charge</b> from using 
<a href="../commands/addcharge.html"><b>addcharge</b></a>, <i>etc.</i>
  </ul>
<li><b>residues</b>
  <ul>
  <li><b>chi1, chi2</b>, ... amino acid sidechain angles
  <li><b>phi, psi, omega</b> &ndash; peptide backbone angles
  <li><a href="../attributes.html#residue">residue attributes</a>
generated by certain actions, such as <b>area</b> from using
<a href="../commands/measure.html#sasa"><b>measure sasa</b></a>,
or <a href="sequenceviewer.html#headers"><b>seq_conservation</b></a>
and <a href="sequenceviewer.html#headers"><b>seq_rmsd</b></a>
from the <a href="sequenceviewer.html"><b>Sequence Viewer</b></a>
  </ul>
<li><b>structures</b> (atomic models)
  <ul>
  <li><a href="../attributes.html#model">model attributes</a>
generated by certain actions, 
such as <b>modeller_GA341</b> and <b>modeller_zDOPE</b>
quality scores from <a href="modeller.html">comparative modeling</a>
  </ul>
</ul>
<p>
<a name="custom"></a>
Custom attributes
of atoms, residues, and molecule models can be created arbitrarily with
<a href="../commands/defattr.html"><b>defattr</b></a> and
<a href="../commands/setattr.html"><b>setattr</b></a> and (if numerical)
mapped to colors with this tool.
</p>

<a name="histogram"></a>
<p class="nav">
[<a href="#top">back to top: Render by Attribute</a>]
</p>
<h3>Histogram and Colors</h3>
<p>
Choosing an attribute as described above shows a histogram of its
values in the <a href="#choosemodel">chosen</a> models.
</p><p>
Each <b><i>threshold</i></b> or
vertical bar on the histogram has a <b>Value</b>
(position on the histogram) and a <b>Color</b>.
Together, the thresholds specify how colors map to values.
Clicking on a threshold shows its <b>Value</b> in black.
Clicking elsewhere within the histogram shows the <b>Value</b>
(X-coordinate) of the mouseclick in gray.
A threshold can be moved by changing its <b>Value</b>
and then pressing Enter (return) or by dragging it horizontally
with the left mouse button. 
Thresholds can be added by Shift-clicking on the histogram, 
whereas Shift-clicking an existing threshold deletes it.
<a name="threshold-settings"></a>
The <b>Value</b> and <b>Color</b> settings apply to the threshold 
most recently moved or clicked:
<ul>
<li>A threshold can also be moved by entering a new <b>Value</b>.
<li>Clicking the <b>Color</b> square (color well) 
opens the system color editor for choosing a color interactively.
</ul>
<p>
Coloring can be applied to <b>atoms</b>, <b>cartoons</b>, and/or
molecular <b>surfaces</b>.
</p>
<ul>
<li><b>Color missing values with</b> (a color well, default
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor="#808080" width="10px" title="blue"></td></tr></table>)
allows coloring atoms, residues, or models that have
<a name="novalue">no value</a> assigned for the chosen attribute.
For example, nucleic acid residues do not have peptide backbone
<b>phi</b> angles. If the option is turned off (unchecked), any
no-value atoms, <i>etc.</i> will retain their current colors.
<br><br>
<li>Choosing a <b>Palette</b> changes the colors without changing
the number of thresholds or their positions.
The desired number of thresholds should be present before the palette
is chosen; individual colors can be changed afterwards with the system 
color editor, as described <a href="#threshold-settings">above</a>.
Many <a href="../commands/palettes.html">built-in palettes</a> are available.
Only the ones with the same number of colors as the current number of
thresholds will be listed; for example, the <b>rainbow</b> palette will
not be listed unless there are exactly 5 thresholds in the histogram.
If any colors are set interactively, the palette name will be
shown as <b>custom</b>.
<br><br>
<li>Clicking <b>Reverse threshold colors</b> reverses the current colors
without changing the number of thresholds or their positions.
<br><br>
<li>Clicking <b>Create corresponding color key</b> opens the
<a href="colorkey.html"><b>Color Key</b></a> tool and populates it 
with the current colors and values; a color key can then be 
<a href="colorkey.html#adjust">drawn interactively</a> 
in the graphics window using the settings in that tool.
<br><br>
<li><b>Restrict to selection</b> limits coloring to the current
<a href="../selection.html">selection</a>.
</ul>
<p>
Clicking <b>Apply</b> performs the coloring without closing the dialog,
whereas <b>OK</b> performs the coloring and dismisses the dialog.
<b>Close</b> simply dismisses the dialog, and <b>Help</b> shows this page 
in the <a href="helpviewer.html"><b>Help Viewer</b></a>.
</p>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
March 2023</address>
</body></html>
