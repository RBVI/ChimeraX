<html>

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Toolbar: Right Mouse</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRight" title="User Guide Index"/></a>

<h3><a href="toolbar.html">Toolbar</a>: Right Mouse</h3>
<p>
Icons in the <b>Right Mouse</b> tab of the
<a href="toolbar.html"><b>Toolbar</b></a> 
(along with those in the <a href="markers.html"><b>Markers</b></a> tab)
allow reassigning the function or &ldquo;mouse mode&rdquo; of:
</p>
<ul>
<li>hand-controller buttons in 
<a href="../vr.html">ChimeraX virtual reality</a>
(<a href="../vr.html#mousemodes">details...</a>)
<li>the right mouse button (= trackpad + <b>Alt</b> on Windows,
trackpad + <img src="../icon-clover.png" width="12px"> on Mac)
in the <a href="../window.html">ChimeraX graphics window</a>
</ul>
<p>
(On Windows or Linux, right-click elsewhere in the ChimeraX interface raises
a <a href="../window.html#context-menu">context menu</a>.)
</p><p>
The icon for the current right-mouse assignment is highlighted
in the <a href="toolbar.html"><b>Toolbar</b></a>.
A specific mouse button can only be assigned one function at a time.
</p><p>
With the related
<a href="../commands/ui.html#mousemode"><b>mousemode</b></a> command,
functions can be assigned to all mouse buttons (not just the right) 
and to scrolling, alone and in combination with modifier keys.
See also:
<a href="../commands/device.html#vr-button"><b>vr button</b></a>,
<a href="markerplacement.html"><b>Marker Placement</b></a>,
<a href="measureblobs.html"><b>Measure and Color Blobs</b></a>,
<a href="maperaser.html"><b>Map Eraser</b></a>,
<a href="../preferences.html#trackpad"><b>Trackpad</b> preferences</a>
</p>
<table border cellpadding="4" cellspacing="0">
<tr>
<td align="center"><b>icon</b></td>
<td align="center"><b><a href="../commands/ui.html#mousemode">mousemode</a>
<i>function</i></b><br>(default assignment, if any)</td>
<td align="center"><b>description</b></td>
</tr><tr>
<td align="center"><img src="mouse-icons/select.png" width="35px"></td>
<td align="center"><b>select</b><br>(control left)</td>
<td align="center" class="text"><a href="../selection.html">select</a>
items for subsequent operations, +<b>Shift</b> to toggle or add to selection;
see also <a href="../commands/select.html"><b>select</b></a>
</td>
</tr><tr>
<td align="center"><img src="mouse-icons/rotate.png" width="35px"></td>
<td align="center"><b>rotate</b><br>(left)</td>
<td align="center" class="text">XY-rotate 
(<a href="../commands/view.html#screencoords">screen coordinates</a>)
with cursor in central part of window,
Z-rotate with cursor in periphery, except if wheel, Y-rotate only;
see also <a href="../commands/turn.html"><b>turn</b></a>,
<a href="../commands/roll.html"><b>roll</b></a>;
<br>assigned button + <b>Shift</b> switches to <b>translate</b> instead</td>
</tr><tr>
<td align="center"><img src="mouse-icons/translate.png" width="35px"></td>
<td align="center"><b>translate</b><br>(middle, right)</td>
<td align="center" class="text">XY-translate
(<a href="../commands/view.html#screencoords">screen coordinates</a>),
except if wheel, Z-translate;
see also <a href="../commands/move.html"><b>move</b></a>;
<br>assigned button + <b>Shift</b> switches to <b>rotate</b> instead</td>
</tr><tr>
<td align="center"><img src="mouse-icons/zoom.png" width="35px"></td>
<td align="center"><b>zoom</b><br>(wheel)</td>
<td align="center">zoom the view
(slightly <a href="#vr">different in VR</a>);
see also <a href="../commands/zoom.html"><b>zoom</b></a>
</td>
</tr><tr>
<td align="center"><img src="mouse-icons/move_h2o.png" width="35px"></td>
<td align="center"><b>translate selected models</b></td>
<td align="center" class="text">translate models with any part 
<a href="../selection.html">selected</a>, or if no selection, all models;
<br>assigned button + <b>Shift</b> switches to
<b>rotate selected models</b> instead</td>
</tr><tr>
<td align="center"><img src="mouse-icons/rotate_h2o.png" width="35px"></td>
<td align="center"><b>rotate selected models</b></td>
<td align="center" class="text">rotate models with any part 
<a href="../selection.html">selected</a>, or if no selection, all models;
<br>assigned button + <b>Shift</b> switches to
<b>translate selected models</b> instead</td>
</tr><tr>
<td align="center"><img src="mouse-icons/move_picked_model.png" width="35px"></td>
<td align="center"><b>move picked model</b></td>
<td align="center" class="text">translate the model under the mouseclick;
<br>assigned button + <b>Shift</b> switches to rotation instead</td>
</tr><tr>
<td align="center"><img src="mouse-icons/move_atoms.png" width="35px"></td>
<td align="center"><b>translate selected atoms</b></td>
<td align="center" class="text">translate any
<a href="../selection.html">selected</a> atoms, or if no selection, all models;
<br>assigned button + <b>Shift</b> switches to
<b>rotate selected atoms</b> instead</td>
</tr><tr>
<td align="center"><img src="mouse-icons/pivot.png" width="35px"></td>
<td align="center"><b>pivot</b></td>
<td align="center" class="text">set center of rotation to clicked atom,
bond, ribbon segment, or surface point;
see also <a href="../commands/cofr.html"><b>cofr</b></a></td>
</tr><tr>
<td align="center">
<a name="distance"></a>
<img src="mouse-icons/distance.png" width="35px"></td>
<td align="center"><b>distance</b></td>
<td align="center" class="text">add distance monitor
<a href="../pseudobonds.html">pseudobond</a>
between two successively clicked atoms or remove existing distance monitor;
see also <a href="../commands/distance.html"><b>distance</b></a>,
<a href="../commands/label.html"><b>label</b></a>,
and the <a href="#tape"><b>tape measure</b> mode</a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/label.png" width="35px"></td>
<td align="center"><b>label</b></td>
<td align="center" class="text">label/unlabel clicked atom or ribbon segment 
with residue name and number (slightly <a href="#vr">different in VR</a>),
<br>unlabel all residues when background is clicked;
see also <a href="../commands/label.html"><b>label</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/movelabel.png" width="35px"></td>
<td align="center"><b>move label</b></td>
<td align="center" class="text">
move <a href="../commands/2dlabels.html">2D label</a>,
<a href="../commands/2dlabels.html">2D arrow</a> (by dragging either end),
or <a href="../commands/label.html">&ldquo;3D&rdquo; label</a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/clip.png" width="35px"></td>
<td align="center"><b>clip</b> </td>
<td align="center" class="text">
click without dragging to activate/deactivate clipping,
click-drag to activate (if clipping is not yet active)
and translate front or near plane,
+<b>Alt</b> back or far plane, +<b>Shift</b>
slab (translate paired planes in same direction),
+<b>Alt-Shift</b> slab thickness (translate paired planes
in opposite directions); whether activation applies to
front/back planes that rotate with the scene or near/far planes
that remain parallel to the screen is set in the
<a href="../preferences.html#clipping"><b>Clipping</b> preferences</a>;
see also <a href="../commands/clip.html"><b>clip</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/cliprot.png" width="35px"></td>
<td align="center"><b>clip rotate</b></td>
<td align="center" class="text">click without dragging to
activate/deactivate clipping,
click-drag to activate (if not already active) and
rotate front/back clipping planes;
see also <a href="../commands/clip.html"><b>clip</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/zone.png" width="35px"></td>
<td align="center"><b>zone</b></td>
<td align="center" class="text">
limit atomic and <a href="volumeviewer.html">volume data</a> display
to a zone around the clicked residue
(<a href="mousemodes.html#zone">details...</a>)</td>
</tr><tr>
<td align="center"><img src="mouse-icons/contour.png" width="35px"></td>
<td align="center"><b>contour level</b></td>
<td align="center" class="text">adjust 
<a href="volumeviewer.html">volume data</a> threshold level; see also 
<a href="../commands/volume.html"><b>volume</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/moveplanes.png" width="35px"></td>
<td align="center"><b>move planes</b></td>
<td align="center" class="text">
show <a href="../commands/volume.html#planes">single plane</a> of clicked
<a href="volumeviewer.html">volume data</a>
if full region shown initially; move plane or slab along its axis to show
a different section</td>
</tr><tr>
<td align="center">
<img src="mouse-icons/rotateslab.png" width="35px"></td>
<td align="center"><b>rotate slab</b></td>
<td align="center" class="text">
<a name="rotateslab"></a>
activate <a href="../commands/volume.html#tiltedslab">tilted slab</a>
slicing of <a href="volumeviewer.html">volume data</a> (image style only),
rotate the slab to adjust the slicing angle;
the center of rotation from clicking over the slab is the center of the slab,
and from clicking elsewhere is the center of the volume box;
<br>assigned button + <b>Shift</b> translates the slab along its axis;
in <a href="../vr.html">VR</a>, this mode
both rotates and translates the slab</td>
</tr><tr>
<td align="center"><img src="mouse-icons/crop.png" width="35px"></td>
<td align="center"><b>crop volume</b></td>
<td align="center" class="text">
show <a href="volumeviewer.html">volume data</a> outline box
and adjust region size by dragging any face;
see also <a href="../commands/volume.html"><b>volume</b></a></td>
</tr><tr>
<td align="center">
<a name="tape"></a>
<img src="mouse-icons/tape.png" width="35px"></td>
<td align="center"><b>tape measure</b></td>
<td align="center" class="text">click to anchor distance measurement, 
drag to desired endpoint; click in empty space
to &ldquo;erase&rdquo; (<a href="#tapemeasure">details...</a>);
see also the <a href="#distance"><b>distance</b> mode</a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/pickblobs.png" width="35px"></td>
<td align="center"><b>pick blobs</b></td>
<td align="center" class="text"><a href="measureblobs.html">pick 
surface blob</a> to measure area, volume, size; see also
<a href="../commands/measure.html#blob"><b>measure blob</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/eraser.png" width="35px"></td>
<td align="center"><b>map eraser</b></td>
<td align="center" class="text">move 
<a href="maperaser.html">map eraser</a> sphere; see also
<a href="../commands/volume.html#erase"><b>volume erase</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/vseries.png" width="35px"></td>
<td align="center"><b>play map series</b></td>
<td align="center" class="text">play 
<a href="../trajectories.html#vseries">volume series</a>, with wrapping;
see also <a href="../commands/vseries.html"><b>vseries</b></a></td>
</tr><tr>
<td align="center">
<a name="windowing"></a>
<img src="mouse-icons/windowing.png" width="35px"></td>
<td align="center"><b>windowing</b></td>
<td align="center" class="text">adjust
<a href="volumeviewer.html">volume data</a> image display
thresholds collectively: vertical motion adjusts <b><i>window level</i></b>
(moves all thresholds in parallel to higher or lower values),
horizontal motion adjusts <b><i>window width</i></b>
(moves thresholds symmetrically farther apart or closer together),
and the dominant type of motion wins out;
for adjusting multiple windows within a single histogram,
see <a href="#multiwindowing">details</a>
</td>
</tr><tr>
<td align="center"><img src="mouse-icons/bondrot.png" width="35px"></td>
<td align="center"><b>bond rotation</b></td>
<td align="center" class="text">adjust torsion angle (original position not 
retained) by clicking a bond and dragging vertically;
see also <a href="../commands/torsion.html"><b>torsion</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/swapaa.png" width="35px"></td>
<td align="center"><b>swapaa</b></td>
<td align="center" class="text">
&ldquo;<a href="../commands/swapaa.html#mousemode">mutate</a>&rdquo;
and <a href="../commands/label.html">label</a> the amino acid residue
under the mouseclick,
with vertical drag cycling through the 20 standard types
in arbitrary conformations; original sidechain not retained</td>
</tr><tr>
<td align="center"><img src="mouse-icons/coordset.png" width="35px"></td>
<td align="center"><b>play coordinates</b></td>
<td align="center" class="text">
drag up/down or left/right to play through the coordinate sets
in each displayed <a href="../trajectories.html">trajectory</a>;
dragging horizontally the full width of the graphics window (or in
<a href="../vr.html">VR</a>, 50 cm vertically) plays the whole trajectory</td>
</tr><tr>
<td align="center"><img src="mouse-icons/tug.png" width="35px"></td>
<td align="center"><b>tug</b></td>
<td align="center" class="text">drag atoms and apply OpenMM dynamics
while button is held down (<a href="#openmm">details...</a>);
original coordinates not retained</td>
</tr><tr>
<td align="center"><img src="mouse-icons/minimize.png" width="35px"></td>
<td align="center"><b>minimize</b></td>
<td align="center" class="text">
jiggle residue and its neighbors with OpenMM dynamics
while button is held down (<a href="#openmm">details...</a>);
original coordinates not retained</td>
</tr><tr>
<td align="center"><img src="mouse-icons/nextdocking.png"
width="35px"></td>
<td align="center"><b>next docked</b></td>
<td align="center" class="text">
drag to show the next/previous docked ligand when docking results
are open in <a href="viewdockx.html"><b>ViewDockX</b></a></td>
</tr>
</table>

<a name="tapemeasure"></a>
<p class="nav">
[<a href="#top">back to top: Mouse Modes...</a>]
</p>
<h3>Tape Measure</h3>
<p>
The <a href="#tape"><b>tape measure</b></a> mouse mode 
creates one or more pairs of <a href="../markers.html">markers</a>
with a distance label on the link between them.
Clicking (without releasing) the assigned button over
<a href="volumeviewer.html">volume data</a>, an atom, 
<a href="../commands/cartoon.html">cartoon</a>, or
<a href="../commands/surface.html">molecular surface</a>
anchors the measurement; dragging adjusts the measurement dynamically, 
and releasing the button places the second marker. 
The release point can be anywhere, even empty space.
<a href="#vr-tape">Except in VR</a>, clicking the assigned button in empty space
or clicking and releasing without dragging more than 5 screen pixels
removes the measurements.
</p><p>
<a href="#vr-tape">Except in VR</a>, 
the method of marker placement depends on
what is &ldquo;under&rdquo; the cursor 
when the assigned button is clicked or released:
<ul>
<li>for <a href="volumeviewer.html">volume data</a>, the method
is automatically determined from the display style, marking
either the isosurface, volume plane, or local maximum along the line of sight
<li>for an atom, placement is at the atomic center
<li>for <a href="../commands/cartoon.html">cartoon</a>, placement is at 
the corresponding residue's principal atom: amino acid CA or nucleic acid C4'
<li>for <a href="../commands/surface.html">molecular surface</a>,
placement is at the corresponding atom
<li>for release over empty space, dragging is simply in the plane of the
screen, retaining the same depth as the anchor point
</ul>
<p>
The <a href="../markers.html">markers and links</a> are created as a model
named <b>tape measure</b>.
The link radius is set to 25% of the minimum grid spacing if/when a measurement
is anchored on <a href="volumeviewer.html">volume data</a>, 
otherwise remaining at 0.1 &Aring;, and the distance label height
is set to 10% of the distance but no less than the link diameter.
Label height and color can be changed with the
<a href="../commands/label.html"><b>label</b></a> command,
and marker/link radius and color changed with
<a href="markerplacement.html"><b>Marker Placement</b></a> or the
<a href="../commands/marker.html#change"><b>marker change</b></a> command.
</p><p>
<a name="vr-tape"></a>
Tape-measure differences in <a href="../vr.html">virtual reality</a>:
</p>
<ul>
<li>marker placement is always at the tip of the hand-controller cone, 
regardless of the data or its style of display
<li>clicking and releasing within 0.3 seconds erases the measurements
<li>link radius is not adjusted for volume grid spacing
</ul>
<p>
See also: 
<a href="distances.html"><b>Distances</b></a>,
<a href="../measurements.html">measurements</a>
</p>

<a name="openmm"></a>
<p class="nav">
[<a href="#top">back to top: Mouse Modes...</a>]
</p>
<h3>OpenMM Dynamics</h3>
<p>
To work with the <b>tug</b> or <b>minimize</b> mouse modes,
the entire atomic model must be parametrized in OpenMM.
<!-- 
uses the following from 
https://github.com/pandegroup/openmm/tree/master/wrappers/python/simtk/openmm/app/data/amber14 : protein.ff14SB.xml DNA.OL15.xml RNA.OL3.xml lipid17.xml tip3p.xml
-->
Currently, this requires a fully protonated structure
containing only standard residues and/or water.
Protons can be added beforehand with the command
<a href="../commands/addh.html"><b>addh</b></a>.
</p><p>
The <b>tug</b> mode runs dynamics on the entire structure.
A model named <b>Tug arrow</b> is added to show the location and direction
of tugging.
The <b>minimize</b> mode jiggles the residue under the mouseclick
along with other residues within 3 &Aring; of the first.
It uses a variable time step Langevin integrator with tolerance 0.001, 
temperature 100K, and 10 time steps between coordinate updates, 
with energy minimization if a maximum force is exceeded due to bad geometry. 
Different models do not &ldquo;feel&rdquo; the effects of each other;
that is, only intra-model forces apply. No nonbonded cutoff is used.
</p>

<a name="zone"></a>
<p class="nav">
[<a href="#top">back to top: Mouse Modes...</a>]
</p>
<h3>Zone Around Atoms</h3>
<p>
The <b>zone</b> mouse mode limits atomic detail and
<a href="volumeviewer.html">volume data</a> 
(map) display to a zone around the clicked residue
and labels the residues in the zone.
<a href="#vr">Except in VR</a>,
the remaining residues of the same atomic model are shown as a narrow ribbon.
Subsequently clicking the background clears the labels, and 
clicking the background a second time returns to what was shown
before the residue was clicked.
These actions are implemented via the
<a href="../commands/zone.html"><b>zone</b></a> command,
which can also be used to adjust zone size
(cutoff distances from the clicked residue
are initially <b>5</b>, <b>4</b>, and <b>8</b> &Aring; for
residue atoms, residue labels, and map displays, respectively).
Other parameters such as label color can be changed with
<a href="../commands/zone.html#setting"><b>zone setting</b></a>.
See also: 
<a href="../commands/surface.html#zone"><b>surface zone</b></a>,
<a href="../commands/volume.html#zone"><b>volume zone</b></a>
(with <b>newMap false</b>),
<a href="../commands/select.html#zone"><b>select zone</b></a>,
<a href="../commands/atomspec.html#zones">zone atom specification</a>
</p>

<a name="multiwindowing"></a>
<p class="nav">
[<a href="#top">back to top: Mouse Modes...</a>]
</p>
<h3>Windowing</h3>
<p>
The <a href="#windowing"><b>windowing</b></a> mode adjusts
<a href="volumeviewer.html">volume data</a> image display
thresholds collectively: vertical motion adjusts <b><i>window level</i></b>
(moves all thresholds in parallel to higher or lower values) and
horizontal motion adjusts <b><i>window width</i></b>
(moves thresholds symmetrically farther apart or closer together).
The dominant type of motion wins out, <i>i.e.</i>, a diagonal motion
will not change both level and width. 
</p><p>
A single
<a href="../commands/volume.html#transferfunction">transfer function</a>
(set of thresholds for an image display)
may contain multiple windows, where each window contains one or more
thresholds with vertical values above zero and is separated horizontally 
from other windows by at least two thresholds at the vertical zero.
The <a href="../commands/volume.html#appearance"><b>chest</b> preset</a>
is an example of this situation.
The <a href="#windowing"><b>windowing</b></a> mode initially applies to
the leftmost window.  Click-release of the assigned button without dragging 
switches the target of this mode to the next window (going from left to right), 
eventually wrapping around from the rightmost to the leftmost. 
Any changes in window level and width are limited by 
&ldquo;bumping&rdquo; into a neighboring window.
</p>

<a name="vr"></a>
<p class="nav">
[<a href="#top">back to top: Mouse Modes...</a>]
</p>
<h3>Differences in Virtual Reality (VR)</h3>
<p>
In <a href="../vr.html">virtual reality</a>, mouse
modes that normally require clicking on an atom (<b>select</b>, <b>label</b>,
<i>etc.</i>) require pointing at the atom with the hand-controller cone
and pressing the assigned button.
Most modes that normally involve clicking and dragging
are operated by clicking and moving the hand controller vertically.
The <b>bond rotation</b> mode requires rotating the hand controller. 
</p><p>
Some of the mouse modes are modified in VR:
</p>
<ul>
<li>the <b>zoom</b> mode scales the scene about the position of
the hand-controller cone tip (or the two-cone midpoint if zooming with a 
two-handed gesture) if that point is inside the scene bounding box, 
otherwise the center of the scene bounding box.
Outside of VR, <a href="../commands/zoom.html">zooming</a>
moves the camera toward or away from the scene.
<li>the <b>label</b> mode makes labels
<table border cellpadding="0" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=dimgray height="10px" title="dimgray">
<font color="yellow">yellow</a></td>
</tr></table>
and <a href="../commands/label.html#orient">reorients</a>
them only upon a 45&deg; change in viewing angle rather than continuously
<li>the <b>zone</b> mode does not turn on ribbon (cartoon) display
<li><b>rotate</b> and <b>translate</b> are a single mode in VR
<li><b>rotate slab</b> 
both rotates and translates the volume-data slice in
<a href="../commands/volume.html#tiltedslab"><b>tilted slab</b></a> image mode
</ul>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
January 2021</address>
</body></html>
