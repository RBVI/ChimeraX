<html>

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Toolbar: Right Mouse</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRight" title="User Guide Index"/></a>

<h3><a href="toolbar.html">Toolbar</a>: Right Mouse</h3>
<p>
Icons in the <b>Right Mouse</b> tab of the
<a href="toolbar.html"><b>Toolbar</b></a> 
(along with those in the <a href="markers.html"><b>Markers</b></a> tab)
allow reassigning the function or &ldquo;mouse mode&rdquo; of:
</p>
<ul>
<li>any hand-controller button in 
<a href="../vr.html">ChimeraX virtual reality</a>
<li>the right mouse button (= trackpad + <b>Alt</b> on Windows,
trackpad + <img src="../icon-clover.png" width="12px"> on Mac)
in the <a href="../window.html">ChimeraX graphics window</a>
</ul>
<p>
(On Windows or Linux, right-click elsewhere in the ChimeraX interface raises
a <a href="../window.html#context-menu">context menu</a>.)
</p><p>
With the related
<a href="../commands/ui.html#mousemode"><b>mousemode</b></a> command,
functions can be assigned to all mouse buttons (not just the right) 
and to scrolling, alone and in combination with modifier keys.
See also:
<a href="../commands/device.html#vr-button"><b>vr button</b></a>,
<a href="markerplacement.html"><b>Marker Placement</b></a>,
<a href="measureblobs.html"><b>Measure and Color Blobs</b></a>,
<a href="maperaser.html"><b>Map Eraser</b></a>,
<a href="../preferences.html#trackpad"><b>Trackpad</b> preferences</a>
</p>
<table border cellpadding="4" cellspacing="0">
<tr>
<td align="center"><b>icon</b></td>
<td align="center"><b><a href="../commands/ui.html#mousemode">mousemode</a>
<i>function</i></b><br>(default assignment, if any)</td>
<td align="center"><b>description</b></td>
</tr><tr>
<td align="center"><img src="mouse-icons/select.png" width="35px"></td>
<td align="center"><b>select</b><br>(control left)</td>
<td align="center" class="text"><a href="../selection.html">select</a>
items for subsequent operations, +<b>Shift</b> to toggle;
see also <a href="../commands/select.html"><b>select</b></a>
</td>
</tr><tr>
<td align="center"><img src="mouse-icons/rotate.png" width="35px"></td>
<td align="center"><b>rotate</b><br>(left)</td>
<td align="center" class="text">XY-rotate 
(<a href="../commands/view.html#screencoords">screen coordinates</a>)
with cursor in central part of window,
Z-rotate with cursor in periphery, except if wheel, Y-rotate only;
see also <a href="../commands/turn.html"><b>turn</b></a>,
<a href="../commands/roll.html"><b>roll</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/translate.png" width="35px"></td>
<td align="center"><b>translate</b><br>(middle, right)</td>
<td align="center" class="text">XY-translate
(<a href="../commands/view.html#screencoords">screen coordinates</a>),
except if wheel, Z-translate;
see also <a href="../commands/move.html"><b>move</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/zoom.png" width="35px"></td>
<td align="center"><b>zoom</b><br>(wheel)</td>
<td align="center">zoom the view
(slightly <a href="#vr">different in VR</a>);
see also <a href="../commands/zoom.html"><b>zoom</b></a>
</td>
</tr><tr>
<td align="center"><img src="mouse-icons/move_h2o.png" width="35px"></td>
<td align="center"><b>translate selected models</b></td>
<td align="center" class="text">translate models with any part 
<a href="../selection.html">selected</a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/rotate_h2o.png" width="35px"></td>
<td align="center"><b>rotate selected models</b></td>
<td align="center" class="text">rotate models with any part 
<a href="../selection.html">selected</a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/pivot.png" width="35px"></td>
<td align="center"><b>pivot</b></td>
<td align="center" class="text">set center of rotation to atom;
see also <a href="../commands/cofr.html"><b>cofr</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/distance.png" width="35px"></td>
<td align="center"><b>distance</b></td>
<td align="center" class="text">add distance monitor
<a href="../pseudobonds.html">pseudobond</a>
between two successively clicked atoms or remove existing distance monitor;
see also <a href="../commands/distance.html"><b>distance</b></a> and
<a href="../commands/label.html"><b>label</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/label.png" width="35px"></td>
<td align="center"><b>label</b></td>
<td align="center" class="text">label/unlabel clicked atom or ribbon segment 
with residue name and number (slightly <a href="#vr">different in VR</a>),
<br>unlabel all residues when background is clicked;
see also <a href="../commands/label.html"><b>label</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/movelabel.png" width="35px"></td>
<td align="center"><b>move label</b></td>
<td align="center" class="text">
move <a href="../commands/2dlabels.html">2D label</a>
or <a href="../commands/label.html">&ldquo;3D&rdquo; label</a>;
see also <a href="../commands/2dlabels.html"><b>2dlabels</b></a>,
<a href="../commands/label.html"><b>label</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/clip.png" width="35px"></td>
<td align="center"><b>clip</b> </td>
<td align="center" class="text">
click without dragging to activate/deactivate clipping,
click-drag to activate (if clipping is not yet active)
and translate front or near plane,
+<b>Alt</b> back or far plane, +<b>Shift</b>
slab (translate paired planes in same direction),
+<b>Alt-Shift</b> slab thickness (translate paired planes
in opposite directions); whether activation applies to
front/back planes that rotate with the scene or near/far planes
that remain parallel to the screen is set in the
<a href="../preferences.html#clipping"><b>Clipping</b> preferences</a>;
see also <a href="../commands/clip.html"><b>clip</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/cliprot.png" width="35px"></td>
<td align="center"><b>clip rotate</b></td>
<td align="center" class="text">click without dragging to
activate/deactivate clipping,
click-drag to activate (if not already active) and
rotate front/back clipping planes;
see also <a href="../commands/clip.html"><b>clip</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/zone.png" width="35px"></td>
<td align="center"><b>zone</b></td>
<td align="center" class="text">
limit atomic and <a href="volumeviewer.html">volume data</a> display
to a zone around the clicked residue
(<a href="mousemodes.html#zone">details...</a>)</td>
</tr><tr>
<td align="center"><img src="mouse-icons/contour.png" width="35px"></td>
<td align="center"><b>contour level</b></td>
<td align="center" class="text">adjust 
<a href="volumeviewer.html">volume data</a> threshold level; see also 
<a href="../commands/volume.html"><b>volume</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/moveplanes.png" width="35px"></td>
<td align="center"><b>move planes</b></td>
<td align="center" class="text">
show <a href="../commands/volume.html#planes">single plane</a> of clicked
<a href="volumeviewer.html">volume data</a>
if full region shown initially, move plane or slab along its axis to show
a different section; see also 
<a href="../commands/volume.html"><b>volume</b></a></td>
</tr><tr>
<td align="center"><img src="../tools/mouse-icons/crop.png" width="35px"></td>
<td align="center"><b>crop volume</b></td>
<td align="center" class="text">
show <a href="volumeviewer.html">volume data</a> outline box
and adjust region size by dragging any face;
see also <a href="../commands/volume.html"><b>volume</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/pickblobs.png" width="35px"></td>
<td align="center"><b>pick blobs</b></td>
<td align="center" class="text"><a href="measureblobs.html">pick 
surface blob</a> to measure area, volume, size; see also
<a href="../commands/measure.html#blob"><b>measure blob</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/eraser.png" width="35px"></td>
<td align="center"><b>map eraser</b></td>
<td align="center" class="text">move 
<a href="maperaser.html">map eraser</a> sphere; see also
<a href="../commands/volume.html#erase"><b>volume erase</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/vseries.png" width="35px"></td>
<td align="center"><b>play map series</b></td>
<td align="center" class="text">play 
<a href="../trajectories.html#vseries">volume series</a>;
see also <a href="../commands/vseries.html"><b>vseries</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/windowing.png" width="35px"></td>
<td align="center"><b>windowing</b></td>
<td align="center" class="text">adjust
<a href="volumeviewer.html">volume data</a> solid display
thresholds collectively: vertical motion adjusts <b><i>window level</i></b>
(moves all thresholds in parallel to higher or lower values),
horizontal motion adjusts <b><i>window width</i></b>
(moves thresholds symmetrically farther apart or closer together);
the dominant type of motion wins out, <i>i.e.</i>, a diagonal motion
will not change both level and width</td>
</tr><tr>
<td align="center"><img src="mouse-icons/bondrot.png" width="35px"></td>
<td align="center"><b>bond rotation</b></td>
<td align="center" class="text">adjust torsion angle (original position not 
retained); see also <a href="../commands/torsion.html"><b>torsion</b></a></td>
</tr><tr>
<td align="center"><img src="mouse-icons/swapaa.png" width="35px"></td>
<td align="center"><b>swapaa</b></td>
<td align="center" class="text">
&ldquo;<a href="../commands/swapaa.html#mousemode">mutate</a>&rdquo;
and <a href="../commands/label.html">label</a> the amino acid residue
under the mouseclick,
with vertical drag cycling through the 20 standard types
in arbitrary conformations; original sidechain not retained</td>
</tr><tr>
<td align="center"><img src="mouse-icons/tug.png" width="35px"></td>
<td align="center"><b>tug</b></td>
<td align="center" class="text">drag atoms and apply OpenMM dynamics
while button is held down (<a href="#openmm">details...</a>);
original coordinates not retained</td>
</tr><tr>
<td align="center"><img src="mouse-icons/minimize.png" width="35px"></td>
<td align="center"><b>minimize</b></td>
<td align="center" class="text">
jiggle residue and its neighbors with OpenMM dynamics
while button is held down (<a href="#openmm">details...</a>);
original coordinates not retained</td>
</tr>
</table>

<a name="openmm"></a>
<p class="nav">
[<a href="#top">back to top: Mouse Modes...</a>]
</p>
<h3>OpenMM Dynamics</h3>
<p>
To work with the <b>tug</b> or <b>minimize</b> mouse modes,
the entire atomic model must be parametrized in OpenMM.
<!-- 
uses the following from 
https://github.com/pandegroup/openmm/tree/master/wrappers/python/simtk/openmm/app/data/amber14 : protein.ff14SB.xml DNA.OL15.xml RNA.OL3.xml lipid17.xml tip3p.xml
-->
Currently, this requires a fully protonated structure
containing only standard residues and/or water.
Protons can be added beforehand with the command
<a href="../commands/addh.html"><b>addh</b></a>.
</p><p>
The <b>tug</b> mode runs dynamics on the entire structure.
A model named <b>Tug arrow</b> is added to show the location and direction
of tugging.
The <b>minimize</b> mode jiggles the residue under the mouseclick
along with other residues within 3 &Aring; of the first.
It uses a variable time step Langevin integrator with tolerance 0.001, 
temperature 100K, and 10 time steps between coordinate updates, 
with energy minimization if a maximum force is exceeded due to bad geometry. 
Different models do not &ldquo;feel&rdquo; the effects of each other;
that is, only intra-model forces apply. No nonbonded cutoff is used.
</p>

<a name="zone"></a>
<p class="nav">
[<a href="#top">back to top: Mouse Modes...</a>]
</p>
<h3>Zone Around Atoms</h3>
<p>
The <b>zone</b> mouse mode limits atomic detail and
<a href="volumeviewer.html">volume data</a> 
(map) display to a zone around the clicked residue
and labels the residues in the zone.
<a href="#vr">Except in VR</a>,
the remaining residues of the same atomic model are shown as a narrow ribbon.
Subsequently clicking the background clears the labels, and 
clicking the background a second time returns to what was shown
before the residue was clicked.
These actions are implemented via the
<a href="../commands/zone.html"><b>zone</b></a> command,
which can also be used to adjust zone size
(cutoff distances from the clicked residue
are initially <b>5</b>, <b>4</b>, and <b>8</b> &Aring; for
residue atoms, residue labels, and map displays, respectively).
See also: 
<a href="../commands/surface.html#zone"><b>surface zone</b></a>,
<a href="../commands/volume.html#zone"><b>volume zone</b></a>
(with <b>newMap false</b>),
<a href="../commands/select.html#zone"><b>select zone</b></a>,
<a href="../commands/atomspec.html#zones">zone atom specification</a>
</p>

<a name="vr"></a>
<p class="nav">
[<a href="#top">back to top: Mouse Modes...</a>]
</p>
<h3>Differences in Virtual Reality (VR)</h3>
<p>
In <a href="../vr.html">virtual reality</a>, mouse
modes that normally require clicking on an atom (<b>select</b>, <b>label</b>,
<i>etc.</i>) require pointing at the atom with the hand-controller cone
and pressing the assigned button.
Most modes that normally involve clicking and dragging
are operated by clicking and moving the hand controller vertically.
The <b>bond rotation</b> mode requires rotating the hand controller. 
</p><p>
Clicking the <a href="../vr.html#starting">Vive menu button</a>
(analogous on other systems)
shows the ChimeraX control panel with icons in the headset.
Each hand controller has multiple buttons that can be assigned to modes
(<i>e.g.</i>, <a href="../vr.html#starting">Vive trigger, trackpad, and grip</a>),
and <b><i>whichever button is used to click the icon</i></b> 
is assigned the corresponding function.
Outside of VR, clicking a mouse mode icon only assigns the mode to the 
<b><i>right mouse button</i></b> (= trackpad + <b>Alt</b> on Windows,
trackpad + <img src="../icon-clover.png" width="12px"> on Mac).
</p><p>
Some of the mouse modes are modified in VR:
</p>
<ul>
<li>the <b>zoom</b> mode scales the scene about the position of
the hand-controller cone tip (or the two-cone midpoint if zooming with a 
two-handed gesture) if that point is inside the scene bounding box, 
otherwise the center of the scene bounding box.
Outside of VR, <a href="../commands/zoom.html">zooming</a>
moves the camera toward or away from the scene.
<li>the <b>label</b> mode makes labels
<table border cellpadding="0" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=dimgray height="10px" title="dimgray">
<font color="yellow">yellow</a></td>
</tr></table>
and <a href="../commands/label.html#orient">reorients</a>
them only upon a 45&deg; change in viewing angle rather than continuously
<li>the <b>zone</b> mode does not turn on ribbon (cartoon) display
</ul>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
September 2019</address>
</body></html>
