<html>

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Tool: Command Line Interface</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRight" title="User Guide Index"/></a>

<h3><a href="../index.html#tools">Tool</a>: Command Line Interface</h3>
<p>
<a href="../index.html#commands">ChimeraX commands</a>
are entered at the <b>Command Line Interface</b>.
This interface can be opened from the <b>Tools</b> menu
(<a href="../window.html#panels">more...</a>).
See also: 
<a href="../commands/help.html"><b>help</b></a>,
<a href="../commands/usage.html"><b>usage</b></a>,
<a href="../window.html">ChimeraX window</a>,
<a href="../commands/usageconventions.html">command usage conventions</a>
</p><p>
Sometimes it is necessary to click in the graphics window or
command line to take back focus from some other dialog so that command 
keystrokes will register.
When the focus is in the command line or graphics window,
the history can be navigated and commands edited as described 
<a href="#navigation">below</a>.
</p><p>
Dragging and dropping the icon for a file or directory into the command line
substitutes the corresponding pathname text.
</p><p>
The inverted triangle to the right of the command line marks a pulldown menu.
The menu includes:
</p>
<ul>
<li>the most recently entered commands
<li><b>Command History...</b> for showing the full
<a href="#history"><b>Command History</b></a>
<li><b>Remove duplicate consecutive commands</b>
&ndash; where the same command was used multiple times in a row,
remove all but one occurrence from the history
</ul>
<p>
Whether to <b>Leave Failed Command Highlighted</b>
(so that typing another command will automatically erase it)
is a <a href="../preferences.html#other">preference</a>
that can be set using the command-line
<a href="../window.html#context-menu">context menu</a>.
The initial default is to leave a failed command unhighlighted 
in the command line so that it can be edited rather than erased.
</p>

<a name="history"></a>
<p class="nav">
[<a href="#top">back to top: Command Line Interface</a>]
</p>
<h3>Command History</h3>
<p>
Previously used commands are remembered in the <b>Command History</b>.
The commands can be re-executed and/or saved to a file.
Whether the history should show <b>Typed Commands Only</b>
is a <a href="../preferences.html#other">preference</a>
that can be set using the <a href="../window.html#context-menu">context menu</a>
in the command line or history panel.
Typed commands are those explicitly entered by the user
rather than generated automatically 
by clicking <a href="../index.html#toolbars">toolbar</a> icons,
using the <a href="filehistory.html"><b>File History</b></a> to open data,
<i>etc.</i>
The number of commands to remember (initial default <b>500</b>)
is also a <a href="../preferences.html#other">preference</a>;
it includes all commands, of which the typed commands are only a subset.
See also: <a href="log.html"><b>Log</b></a>
</p><p>
The <b>Command History</b> panel can be opened from the pulldown menu marked by 
a triangle or chevron
to the right of the <a href="#top"><b>Command Line Interface</b></a>.
</p><p>
In the <b>Command History</b> panel,
double-clicking an individual command executes that command.
Individual commands or blocks of commands may be
<b><i>chosen</i></b> (highlighted) using the left mouse button.
<b>Ctrl</b>-click adds to an existing choice rather than replacing it.
To choose a block of commands without dragging,
click on the first (or last) and then <b>Shift</b>-click on the
last (or first) in the desired block. 
Some of the buttons act only upon the chosen command(s):
</p><ul>
<li><b>Save...</b> brings up a dialog for saving or appending commands to a 
text file. The chosen commands or all commands in the history can be saved.
The filename suffix <b>.cxc</b> is recommended for
<a href="../commands/usageconventions.html#cxc-files">ChimeraX command 
files</a>.
<li><b>Execute</b> executes the chosen commands in the order shown
<li><b>Delete</b> removes the chosen commands from the history
<li><b>Copy</b> copies the chosen commands as plain text that can be
pasted into another application window
<li><b>Help</b> shows documentation
in the <a href="helpviewer.html"><b>Help Viewer</b></a>
</ul>
<a name="navigation"></a>
<p>
The command history can also be navigated directly in the command line
regardless of whether the <b>Command History</b> panel is shown.
With the focus in the command line or graphics window:
</p>
<ul>
<li><b>Ctrl-p</b> &ndash; previous command
<li><b>Ctrl-n</b> &ndash; next command
<li><b>Shift-Ctrl-p</b> &ndash; previous use of same command
(initial set of characters)
<li><b>Shift-Ctrl-n</b> &ndash; next use of same command
(initial set of characters)
<li><b>Ctrl-u</b> &ndash; erase command-line contents
<li><b>Ctrl-k</b> &ndash; erase from the cursor position to the end of line
</ul>
<p>
Navigation skips commands for which the entire line is identical.
When the mouse focus is in the command line (not the graphics window),
another way to navigate the history is with
the keyboard <b>up arrow</b> and <b>down arrow</b>,
alone or in combination with <b>Shift</b> (meaning previous/next use of
the same command, as described above for <b>Ctrl-p/n</b>).
The arrow keys also work to navigate the command history when
the mouse focus is in the graphics window but
nothing is <a href="../selection.html">selected</a>.
</p><p>
The history is stored in a file in a platform-dependent standard location
and carries over between different ChimeraX sessions.
The location can be reported with command:
</p>
<blockquote>
<b><a href="../commands/info.html#path">info path</a> user unversioned data</b>
</blockquote>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
August 2020</address>
</body></html>
