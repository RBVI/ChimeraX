<html>

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Command: defattr</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRight" title="User Guide Index"/></a>

<h3><a href="../index.html#commands">Command</a>: defattr</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>defattr</b>
[&nbsp;<a href="atomspec.html"><i>atom-spec</i></a>&nbsp;]
&nbsp;<i>attr-file</i>&nbsp;
[&nbsp;<b>log</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
</h3>
<p>
The <b>defattr</b> command assigns
<a href="../attributes.html">attribute</a> values
from an <a href="#attrfile">attribute assignment file</a>.
It is possible to define new attributes or
to (re)assign values for existing attributes
of atoms, residues, and atomic models.
The <i>attr-file</i> is specified by its pathname, or by the word
<a href="usageconventions.html#browse"><b>browse</b></a>
to specify it interactively in a file browser window.
If an <a href="atomspec.html"><i>atom-spec</i></a> is given, assignment 
will consider only the models containing the specified atoms.
Of course, whether attribute values are actually assigned to those models
or their parts depends on the contents of the
<a href="#attrfile">attribute assignment file</a>.
</p><p>
The <b>log</b> option indicates whether to report details of the
assignments to the <a href="../tools/log.html"><b>Log</b></a>.
</p><p>
The related command <a href="setattr.html"><b>setattr</b></a>
assigns attribute values directly, but is less practical for large-scale
assignment since only a single value can be given per command.
See also: 
<a href="info.html"><b>info</b></a>
</p>

<a name="attrfile"></a>
<p class="nav">
[<a href="#top">back to top: defattr</a>]
</p>
<h3>Attribute Assignment Files</h3>
<p>
Attribute assignment files are simple user- or program-generated text files
that can be read using the <a href="#top"><b>defattr</b></a> command to 
create <a href="../attributes.html">attributes</a> and assign their values.
The format is the same as used by Chimera, although 
the <a href="atomspec.html#hierarchy">atom specification strings</a> 
within may differ.
Existing attributes can be <a href="save.html#attributes">saved</a>
to this file format.
Several <a href="#examples">example files</a> are provided.
</p><p>
<a name="comment"></a>
A hash symbol # at the beginning of a line indicates a <b><i>comment</i></b>.
<a name="controlline"></a>
Basic properties of an attribute are described
in <b><i>control lines</i></b> of the form:
</p>
<blockquote>
<i>identifier: value</i>
</blockquote>
Possible control line contents:
<table border cellspacing="0" cellpadding="3">
<TR><td align=center><b>identifier</b></td>
<td align=center><b>value</b></td>
<td align=center><b>description</b></td>
</tr><TR>
<a name="attrname"></a>
<td align=center><b>attribute</b><br>(required)</td>
<td>alphanumeric string without spaces;
can include underscores; cannot begin with a digit</td>
<td align=center>attribute name, existing or new</td>
</tr><TR>
<td align=center><b>match&nbsp;mode</b><br>(optional)</td>
<td align=center><b>any</b> (default)<br>non-zero<br>1-to-1</td>
<td align=center>expected matches per
<a href="#assignline">assignment line</a>
(an error message will be sent to the
<a href="../tools/log.html"><b>Log</b></a>
when a line's match behavior differs from the match mode)</td>
</tr><TR>
<td align=center><b>recipient</b><br>(optional)</td>
<td align=center><b>atoms</b> (default)<br>residues<br>molecules</td>
<td align=center>level of attribute assignment</td>
</tr><TR>
<td align=center><b>none handling</b><br>(optional)</td>
<td align=center><b>None</b> (default)<br>string<br>delete</td>
<td align=center>treatment of values given as <b>none</b> or <b>None</b>:
as the Python value None, as a string,
or as removal of any assignment of that attribute from the specified item
</td>
</tr>
</table>
<p>
<a name="assignline"></a>
The attribute assignments are described in
<b><i>assignment lines</i></b> of the form:
<blockquote>
(Tab)<a href="atomspec.html"><i>atom-spec</i></a>(Tab)<i>attr-value</i>
</blockquote>
Any kind of <a href="atomspec.html">atom specification</a> can be used.
</p><p>
<a href="#controlline">Control lines</a> and <a href="#comment">comments</a>
can be interspersed with assignment lines.
However, if multiple attributes are defined in the same file, the
<b>attribute</b> control line should precede all other
lines for the corresponding attribute.
</p><p>
Allowed <i>attr-value</i> types are:
<ul>
<li> real number (float)
<li> integer
<li> boolean (<b>true</b> or <b>false</b>, case-independent)
<li> color &ndash; an attribute whose <a href="#attrname">name</a>
ends with <b>color</b> (case-independent) will be interpreted as
a color-valued attribute. Colors can be specified in the 
<a href="colornames.html">same ways</a> as in commands.
<li> string &ndash; a string of any characters except tabs;
values that might be interpreted as one of the other types
should be enclosed in quotation marks
</ul>

<a name="examples"></a>
<p class="nav">
[<a href="#top">back to top: defattr</a>]
</p>
<h3>Example Attribute Assignment Files</h3>
<p>
A simple <a href="#attrfile">text format</a> is used for attribute assignment.
These files can be opened with <a href="#top"><b>defattr</b></a> 
to assign the corresponding attributes.
Existing attributes can be <a href="save.html#attributes">saved</a>
to this file format.
<ul>
<li><a href="../formats/percentExposed.txt">percentExposed.txt</a>
creates a new residue attribute, <b>percentExposed</b>, and assigns
values previously calculated by
<a href="http://curie.utmb.edu/getarea.html"
target="_blank">Getarea</a> for the protein structure 121p
(see <a href="../formats/getarea-121p.txt">raw results</a>).
<br><br>
<li><a href="../formats/midasrad.txt">midasrad.txt</a>
assigns atomic radii, <i>i.e.</i>, sets values for the existing
<a href="../attributes.html#atom">atom attribute</a> <b>radius</b>.
The first assignment line applies to all atoms. 
Subsequent lines reassign the radii for specific elements.
Remember that atoms in models opened <i>after</i> the assignment
will have the <a href="../radii.html">default radii</a>
instead of those in the assignment file.
<br><br>
<li>Several files with different amino acid hydrophobicity scales are provided;
see comments in files for literature citations and other details:
  <ul>
  <li>
  <a href="../formats/kdHydrophobicity.txt">kdHydrophobicity.txt</a>
Kyte-Doolittle 
(see also <a href="../preferences.html#startup">custom presets</a>)
  <li>
  <a href="../formats/wwHydrophobicity.txt">wwHydrophobicity.txt</a>
Wimley-White 
  <li>
  <a href="../formats/hhHydrophobicity.txt">hhHydrophobicity.txt</a>
Hessa <i>et al.</i>
  <li>
  <a href="../formats/mfHydrophobicity.txt">mfHydrophobicity.txt</a>
Moon-Fleming 
  <li>
  <a href="../formats/ttHydrophobicity.txt">ttHydrophobicity.txt</a>
transmembrane tendency (contributed by Shyam M. Saladi)
  </ul>
</ul>
<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
October 2020</address>
</body></html>
