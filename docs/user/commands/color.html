<html>

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Command: color, rainbow</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRight" title="User Guide Index"/></a>

<h3><a href="../index.html#commands">Command</a>: color, rainbow</h3>
<p>
Depending on the type of coloring, <b>color</b> may apply to
different sets of items:
</p>
<ul class="none">
<li><a href="#simple"><b>Simple Coloring</b></a>
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/colorbyelement.png"></a>
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/colorbychain.png"></a>
<a href="../tools/nucdisplay.html" title="Nucleotides Toolbar...">
<img class="icon" border=1 src="../tools/nuc-icons/nuc-color.png"></a>
&ndash; atomic models,
<a href="../tools/volumeviewer.html">volume data</a> (maps),
<a href="2dlabels.html">2D labels</a>
<li><a href="#sequential"><b>Sequential Coloring (Rainbow)</b></a> 
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/rainbow.png"></a>
&ndash; atomic models
<li><a href="#modify"><b>Color Modification</b></a>
&ndash; lightening, hue shift, <i>etc.</i> for atomic models
<li><b>Coloring by Value</b>
(see also the <a href="../tools/colorkey.html"><b>Color Key</b></a> tool
or <a href="key.html"><b>key</b></a> command):
  <ul>
  <li><a href="#byattribute"><b>Attribute</b></a>
  &ndash; color by <a href="../attributes.html">attribute</a> values of atoms,
   residues, or structures (atomic models);
    <a href="#byattribute"><b>color bfactor</b></a>
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/bfactor.png"></a>
  <li><a href="#map"><b>Map</b></a> (sample, electrostatic, gradient)
  &ndash; surfaces, molecular and nonmolecular
  <li><a href="#distance"><b>Distance</b></a> (radial, cylindrical, height)
  &ndash; surfaces
  </ul>
<li><a href="#zone"><b>Coloring by Zone</b></a>
<a href="../tools/densitymaps.html" title="Map Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/colorzone.png"></a>
&ndash; color surfaces to match nearby atoms
or <a href="../markers.html">markers</a>
<li><a href="#single"><b>Removing Coloring by Value or Zone</b></a>
<li><a href="#image"><b>Coloring from Image File</b></a>
&ndash; paste an image from a file onto a surface; perform texture mapping
</ul>
<p>
See also: <a href="transparency.html"><b>transparency</b></a>,
<a href="coulombic.html"><b>coulombic</b></a>
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/esp.png"></a>,
<a href="mlp.html"><b>mlp</b></a>
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar..."><img
class="icon" border=1 src="../tools/shortcut-icons/hydrophobicity.png"></a>,
<a href="measure.html#convexity"><b>measure convexity</b></a>,
<a href="surface.html"><b>surface</b></a>,
<a href="volume.html"><b>volume</b></a>,
<a href="../tools/coloractions.html"><b>Color Actions</b></a>,
<a href="../tools/surfacecolor.html"><b>Surface Color</b></a>,
<a href="../tools/basicactions.html"><b>Basic Actions</b></a>,
<a href="../tools/inspector.html"><b>Selection Inspector</b></a>,
the <a href="../menu.html#actcolor"><b>Actions... Color</b> menu</a>,
<a href="colortables.html">color schemes</a>,
<a href="colornames.html">color specification</a>,
<a href="palettes.html">palettes</a>,
<a href="colornames.html#transparency-limitations">limitations
of transparency</a>
</p><p>
Additional subcommands manage the set of named colors:
</p>
<ul>
<li><a href="#name"><b>color name</b></a> 
&ndash; define color names 
<li><a href="#delete"><b>color delete</b></a>
&ndash; forget user-defined color names
<li><a href="#list"><b>color list</b></a>
&ndash; show color names and swatches in 
the <a href="../tools/log.html"><b>Log</b></a> 
<li><a href="#show"><b>color show</b></a> 
&ndash; report RGB definitions of color names in the
<a href="../tools/log.html"><b>Log</b></a>
</ul>

<a name="simple"></a>
<p class="nav">
[<a href="#top">back to top: color</a>]
</p>
<h3>Simple Coloring</h3>
<blockquote>
<a href="usageconventions.html"><b>Usage</b></a>:
<b>color</b> &nbsp;<a href="atomspec.html"><i>spec</i></a>&nbsp;
&nbsp;<a href="#colorname"><i>colorname</i></a>&nbsp;
[&nbsp;<b>target</b>&nbsp;&nbsp;<i>string</i>&nbsp;]
[&nbsp;<b>halfbond</b>&nbsp;&nbsp;<b>true</b>&nbsp;|&nbsp;false&nbsp;]
[&nbsp;<b>transparency</b>&nbsp;&nbsp;<i>percent</i>&nbsp;]
</blockquote>
<p>
Simple coloring applies to atomic models, including
<a href="cartoon.html">cartoon</a> and 
<a href="surface.html">molecular surface</a> representations,
<a href="../tools/volumeviewer.html">volume data</a> (map) displays,
and <a href="2dlabels.html">2D labels</a>.
The <a name="colorname"><i>colorname</i></a> can be:
<ul>
<li>a <a href="colornames.html">color specification</a> by name,
hexadecimal color code, or component values
<li><a name="byelement"><b>byelement</b> or <b>byatom</b></a>
&ndash; a <a href="colortables.html#element">color-by-element scheme</a>;
only applies to atomic representations and per-atom patches of 
molecular surfaces
<li><a name="byhet"><b>byhet</b> or <b>byhetero</b></a>
&ndash; same as <b>byelement</b>, except leaving carbon atoms unchanged
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/colorbyelement.png"></a>
<li><b>fromatoms</b>
&ndash; color other <a href="#target">targets</a> in atomic models
(molecular surface patches, <i>etc.</i>) to match the corresponding atoms
<li><a name="bynucleotide"><b>bynucleotide</b></a> &ndash; a built-in scheme 
<a href="colortables.html#residue">by nucleotide base type</a>
<a href="../tools/nucdisplay.html" title="Nucleotides Toolbar...">
<img class="icon" border=1 src="../tools/nuc-icons/nuc-color.png"></a>
<li><a name="bychain"><b>bychain</b></a>
&ndash; a built-in scheme <a href="colortables.html#autocolors">by chain ID</a>,
also used for the initial colors of per-chain
<a href="surface.html">molecular surfaces</a>
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/colorbychain.png"></a>
<li><a name="bymodel"><b>bymodel</b></a>
&ndash; the <a href="colortables.html#autocolors">initial colors</a> of atomic models
<li><a name="bypolymer"><b>bypolymer</b></a> or <b>byidentity</b>
&ndash; a random color per unique biopolymer chain (macromolecular entity);
the chain sequence is used to initialize the random number
generator for choosing red, green, and blue color components,
so the same sequence will always give the same color
<!-- 
using sequence 1-letter codes, rgb values chosen in range 128-255, opacity 255
-->
<li><a name="random"><b>random</b></a>
&ndash; random color per atom and residue
</ul>
<p>
<a name="target"></a>
The <b>target</b> option allows coloring only 
a subset of the possible displays of a given atom, residue, <i>etc.</i>
The <i>string</i> can be any combination of the following letters,
without commas or spaces:
 <ul>
 <li><b>a</b> &ndash; atoms/bonds
 (coloring shown for bonds in <a href="#halfbond">halfbond mode</a>)
 <li><b>b</b> &ndash; bonds-only
 (coloring shown for bonds not in <a href="#halfbond">halfbond mode</a>)
 <li><b>c</b> &nbsp;or&nbsp; <b>r</b>
 &ndash; cartoons (ribbons) (divisible to per-residue segments)
 <li><b>s</b> &ndash; surfaces
 (molecular surfaces divisible to per-atom patches, other surface models such
 as volume isosurfaces, and for <a href="#simple">simple coloring</a> only, 
 solid volume displays)
<!--
<font color="brown">Surface coloring is
not yet implemented for <a href="#sequential">sequential coloring</a></font>;
however, if atoms have been colored sequentially, their
molecular surfaces can be colored to match with the command: 
<b><a href="#simple">color</a> fromatoms target s</b>
-->
 <li><b>p</b> &ndash; pseudobonds-only
 (coloring shown for <a href="../pseudobonds.html">pseudobonds</a>
 not in <a href="#halfbond">halfbond mode</a>)
 <li><b>f</b> &ndash; <a href="style.html">ring fill</a>
 and <a href="nucleotides.html">nucleotide representations</a>
 <li><b>l</b> &ndash; labels
(<a href="label.html">3D</a> and <a href="2dlabels">2D</a>)
<!--
 <li><b>n</b> &ndash; nonmolecular models (model-level color)
 <li><b>m</b> &ndash; molecular models (model-level color)
 <li><b>d</b> &ndash; distances and other pseudobond labels
-->
 </ul>
The default is all of the above (<b>target abcspf</b>)
except labels, which can be colored independently:
3D labels with the <a href="label.html"><b>label</b></a> command,
2D labels with the <a href="2dlabels"><b>2dlabels</b></a> command.
However, if only <a href="2dlabels"><b>2dlabels</b></a> are specified
in the command (such as by model number), labels are inferred as the target.
<p>
Alternatively, for certain types of coloring,
targets can be specified with one or more of the following keywords
as a comma-separated list:
</p>
<ul>
<li><b>atoms</b> &ndash; equivalent to <b>target a</b>
<li><b>bonds</b> &ndash; equivalent to <b>target b</b>
<li><b>cartoons</b> or <b>ribbons</b> &ndash; equivalent to <b>target c</b>
or <b>target r</b>
<li><b>surfaces</b> &ndash; equivalent to <b>target s</b>
<li><b>pseudobonds</b> &ndash; equivalent to <b>target p</b>
<li><b>rings</b> &ndash; equivalent to <b>target f</b>
<li><b>labels</b> &ndash; equivalent to <b>target l</b>
<li><b>All</b> &ndash; equivalent to <b>target abcspfl</b>
</ul>
These target keywords must be given in the right place in the command:
<ul>
<li>for <a href="#simple">simple</a> or <a href="#byattribute">attribute</a> 
coloring, before any other optional arguments
<li>for <a href="#modify">color modification</a>, at the end of the command
</ul>
<p>
<a name="halfbond"></a>
By default, bonds are shown in <b><i>halfbond mode</i></b>,
with color and transparency settings from the flanking atoms.
Setting <b>halfbond false</b> for a bond (or
<a href="../pseudobonds.html">pseudobond</a>) reveals its
own color/transparency settings independent of the atoms.
This option can be used to toggle halfbond mode
regardless of whether the command colors any bonds.
It affects only the specified bonds (not pseudobonds),
except obeying the <a href="#target"><b>target</b></a> setting
when it includes <b>p</b>.
</p><p>
<a name="transparency"></a>
The <b>transparency</b> option
sets transparency to the specified <i>percent</i>, 
where 0% is completely opaque and 100% is completely transparent.
Existing transparency is not changed unless this option is used or the
<i>colorname</i> explicitly <a href="colornames.html">specifies</a> 
alpha (opacity). An alpha value overrides this option if both are given.
Note that the <a href="transparency.html"><b>transparency</b></a> command
can be used to set transparency apart from color. There are
<a href="colornames.html#transparency-limitations">limitations
in rendering transparency</a>.
</p>
<h4>Examples (<a href="#simple">Simple</a>)</h4>
Color chain D helices sky blue, cartoons only (not atoms, <i>etc.</i>):
<blockquote>
<b>color /d & helix &nbsp;sky blue &nbsp;target c</b>
<br>&ndash; or &ndash;<br>
<b>color /d & helix &nbsp;sky blue &nbsp;cartoons</b>
</blockquote>
Color residues 12 and 260-275 in chains A and B, atoms/bonds only:
<blockquote>
<b>color /A,B:12,260-275 &nbsp;hot pink &nbsp;target a</b>
<br>&ndash; or &ndash;<br>
<b>color /A,B:12,260-275 &nbsp;hot pink &nbsp;atoms</b>
</blockquote>
Color all <a href="../pseudobonds">pseudobonds</a> yellow:
<blockquote>
<b>color <a href="atomspec.html#builtin">pbonds</a> &nbsp;yellow</b>
</blockquote>
Restore original model coloring to all carbon atoms:
<blockquote>
<b>color C &nbsp;bymodel &nbsp;targ a</b>
</blockquote>
Color map #4:
<blockquote>
<b>color #4 &nbsp;medium violet</b>
</blockquote>

<p>
<a name="sequential"></a>
<a name="rainbow"></a>
<p class="nav">
[<a href="#top">back to top: color</a>]
</p>
<h3>Sequential Coloring (Rainbow)</h3>
<blockquote>
<a href="usageconventions.html"><b>Usage</b></a>:
<b>color</b> &nbsp;<b>sequential</b> 
&nbsp;<a href="atomspec.html"><i>atom-spec</i></a>&nbsp;
[&nbsp;<i>level</i>&nbsp;]
[&nbsp;<a href="#target"><b>target</b></a>&nbsp;&nbsp;<i>string</i>&nbsp;]
[&nbsp;<a href="#palette-options"><b>palette</b></a>&nbsp;&nbsp;<i>palette</i>&nbsp;]
[&nbsp;<a href="#transparency"><b>transparency</b></a>&nbsp;&nbsp;<i>percent</i>&nbsp;]
<br>&ndash; or &ndash;<br>
<a href="usageconventions.html"><b>Usage</b></a>:
<b>rainbow</b> &nbsp;<a href="atomspec.html"><i>atom-spec</i></a>&nbsp;
[&nbsp;<i>level</i>&nbsp;]
[&nbsp;<a href="#target"><b>target</b></a>&nbsp;&nbsp;<i>string</i>&nbsp;]
[&nbsp;<a href="#palette-options"><b>palette</b></a>&nbsp;&nbsp;<i>palette</i>&nbsp;]
[&nbsp;<a href="#transparency"><b>transparency</b></a>&nbsp;&nbsp;<i>percent</i>&nbsp;]
</blockquote>
<p>
The <b>color sequential</b> command (synonym <b>rainbow</b>)
applies a <a href="#palette-options">series of colors</a>
to atomic models at the specified <i>level</i>:
<ul>
<li><b>residues</b> (default)
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/rainbow.png"></a>
&ndash; a different color for each residue in a biopolymer chain;
other residues such as 
<a href="atomspec.html#builtin"><b>ligand</b></a> are not affected
<!-- 4hvp is example where ligand is also protein, but is not rainbowed -->
<li><b>chains</b> &ndash; a different color for each biopolymer chain in an 
atomic model; non-biopolymer residues are not affected
<li><b>polymers</b> &ndash; a different color for each unique biopolymer chain 
(macromolecular entity) in an atomic model, based on sequence;
non-biopolymer residues are not affected
(see also <a href="#simple"><b>color bypolymer</b></a>)
<li><b>structures</b> &ndash; a different color for each atomic model
</ul>
Sequential coloring can be restricted to certain representations 
with the <a href="#target"><b>target</b></a> option.
The <a href="#palette-options"><b>palette</b></a> option specifies
what colors to use (default
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=blue width="10px" title="blue"></td>
<td bgcolor=cyan width="10px" title="cyan"></td>
<td bgcolor=lime width="10px" title="lime"></td>
<td bgcolor=yellow width="10px" title="yellow"></td>
<td bgcolor=red width="10px" title="red"></td>
</tr></table>),
and <a href="#transparency"><b>transparency</b></a> can be set independently.
If the scope of coloring is limited by giving an
<a href="atomspec.html"><i>atom-spec</i></a> in the command,
the full palette will be mapped to the specification only.
</p>
<h4>Examples (<a href="#sequential">Sequential</a>)</h4>
Rainbow-color residues blue &rarr; red along each biopolymer chain:
<blockquote>
<b>color seq res</b>
<br>&ndash; or &ndash;<br>
<b>rainbow res</b>
<br>&ndash; or &ndash;<br>
<b>rainbow</b>
</blockquote>
Rainbow-color each biopolymer chain from blue at residue 1 to red at residue 50,
leaving the colors of other parts unchanged.
<blockquote>
<b>rainbow :1-50</b>
</blockquote>
Color the unique biopolymers in each atomic model, cartoons only,
along the range cornflower blue &rarr; red &rarr; gold
(chains that are the same biopolymer will be the same color):
<blockquote>
<b>color seq polymers &nbsp;targ c
&nbsp;palette cornflowerblue:red:gold</b>
<br>&ndash; or &ndash;<br>
<b>rainbow polymers &nbsp;targ c
&nbsp;palette cornflowerblue:red:gold</b>
</blockquote>
Color the 10-mer in PDB entry 
<a href="https://www.rcsb.org/pdb/explore/explore.do?structureId=1qmv"
target="_blank">1qmv</a> using the 10-color version of the &ldquo;paired&rdquo;
<a href="palettes.html#colorbrewer">ColorBrewer palette</a>:
<blockquote>
<b>open 1qmv; rainbow chain palette paired-10</b>
</blockquote>

<a name="modify"></a>
<p class="nav">
[<a href="#top">back to top: color</a>]
</p>
<h3>Color Modification</h3>
<blockquote>
<a href="usageconventions.html"><b>Usage</b></a>:
<b>color modify</b> &nbsp;<a href="atomspec.html"><i>spec</i></a>&nbsp;
&nbsp;<b>hue</b>&nbsp; [&nbsp;&plus;&nbsp;|&nbsp;&minus;&nbsp;]
&nbsp;<i>angle</i>&nbsp;
[&nbsp;<a href="#target"><b>target</b></a>&nbsp;&nbsp;<i>string</i>&nbsp;]
<br>
<a href="usageconventions.html"><b>Usage</b></a>:
<b>color modify</b> &nbsp;<a href="atomspec.html"><i>spec</i></a>&nbsp;
(&nbsp;<b>saturation</b>&nbsp;|&nbsp;<b>lightness</b>&nbsp;|&nbsp;<b>whiteness</b>&nbsp;|&nbsp;<b>blackness</b>&nbsp;|&nbsp;<b>red</b>&nbsp;|&nbsp;<b>green</b>&nbsp;|&nbsp;<b>blue</b>&nbsp;)
[&nbsp;&plus;&nbsp;|&nbsp;&minus;&nbsp;|&nbsp;*&nbsp;]
&nbsp;<i>percent</i>&nbsp;
[&nbsp;<a href="#target"><b>target</b></a>&nbsp;&nbsp;<i>string</i>&nbsp;]
<br>
<a href="usageconventions.html"><b>Usage</b></a>:
<b>color modify</b> &nbsp;<a href="atomspec.html"><i>spec</i></a>&nbsp;
<b>contrast</b> [&nbsp;<i>percent</i>&nbsp;]
[&nbsp;<a href="#target"><b>target</b></a>&nbsp;&nbsp;<i>string</i>&nbsp;]
</blockquote>
<p>
Color modification adjusts existing colors.
It applies to atomic models, including <a href="cartoon.html">cartoon</a> and 
<a href="surface.html">molecular surface</a> representations.
The color component to modify must be specified, with choices:
</p>
<ul>
<li><b>hue</b> &ndash; hue <i>angle</i> (0-360&deg;) in the 
<a href="https://en.wikipedia.org/wiki/HSL_and_HSV" 
target="_blank">hue-saturation-lightness</a> (HSL; see
<a href="https://www.w3schools.com/colors/colors_hsl.asp"
target="_blank">interactive calculator</a>) and
<a href="https://en.wikipedia.org/wiki/HWB_color_model"
target="_blank">hue-whiteness-blackness</a> (HWB) color spaces
<li><b>saturation</b> &ndash; saturation <i>percent</i> in the HSL color space
<li><b>lightness</b> &ndash; lightness <i>percent</i> in the HSL color space
<li><b>whiteness</b> &ndash; whiteness <i>percent</i> in the HWB color space
<li><b>blackness</b> &ndash; blackness <i>percent</i> in the HWB color space
<li><b>red</b> &ndash; red <i>percent</i> in the 
<a href="https://en.wikipedia.org/wiki/RGB_color_space"
target="_blank">red-green-blue</a> (RGB) color space
<li><b>green</b> &ndash; green <i>percent</i> in the RGB color space
<li><b>blue</b> &ndash; blue <i>percent</i> in the RGB color space
<li><b>contrast</b> &ndash; contrast <i>percent</i> from a reference color 
related to the current color (0) to a maximally contrasting color (100).
The default is <b>100</b>, either white or black depending on the current color.
</ul>
<p>
For <b>saturation</b>, <b>lightness</b>, <b>whiteness</b>,
<b>blackness</b>, <b>red</b>, <b>green</b>, or <b>blue</b>,
the <i>percent</i> can be added to (&plus;), 
subtracted from (&minus;), or multiplied by (*) the current value,
or simply set as the current value if no operator symbol is given
(or the space after the operator symbol is omitted;
the space is needed to indicate a change from the current value 
rather than an absolute value).
For <b>hue</b>, the <i>angle</i> can be added to or subtracted from
the current value, or simply set as the current value.
</p><p>
Example image and script:
<a href="https://www.rbvi.ucsf.edu/chimerax/gallery.html#colormod"
target="_blank">Potassium Channel-Calmodulin Complex</a> 
</p>

<a name="byattribute"></a>
<a name="bfactor"></a>
<p class="nav">
[<a href="#top">back to top: color</a>]
</p>
<h3>Coloring by Attribute Value</h3>
<blockquote>
<a href="usageconventions.html"><b>Usage</b></a>:
<b>color</b> &nbsp;<b>byattribute</b>
&nbsp;[<b>a:</b>][<b>r:</b>][<b>m:</b>]<a href="../attributes.html#attrnames"><i>attribute-name</i></a>&nbsp;
&nbsp;<a href="atomspec.html"><i>atom-spec</i></a>&nbsp;
[&nbsp;<b>key</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
[&nbsp;<a href="#target"><b>target</b></a>&nbsp;&nbsp;<i>string</i>&nbsp;]
[&nbsp;<b>average</b>&nbsp;&nbsp;residues&nbsp;]
&nbsp;<a href="#palette-options"><i>palette-options</i></a>&nbsp;
[&nbsp;<a href="#transparency"><b>transparency</b></a>&nbsp;&nbsp;<i>percent</i>&nbsp;]
[&nbsp;<b>noValueColor</b>&nbsp;&nbsp;<a href="colornames.html"><i>color-spec</i></a>&nbsp;]
</blockquote>
<p>
Atomic models can be colored to show the values of numerical
<a href="../attributes.html">attributes</a>.
Several attributes are present automatically, but others can be
defined by the user arbitrarily or created by various ChimeraX tools and
commands (<a href="../attributes.html">details...</a>).
For example, the values of a map at atom positions can be assigned as an
<a href="../attributes.html">attribute</a> with
<a href="measure.html#mapvalues"><b>measure mapvalues</b></a>.
Examples of coloring by <b>bfactor</b>, an attribute 
automatically read from mmCIF/PDB, are given below.
For coloring by a user-defined attribute, see the
<a href="../preferences.html#startup">custom preset example</a>.
For coloring by segmentation region, 
see <a href="segmentation.html"><b>segmentation</b></a>.
See also the tutorial:
<a href="https://www.rbvi.ucsf.edu/chimerax/data/conservation-coloring/conservation-coloring.html"
target="_blank">Coloring by Sequence Conservation</a>
</p><p>
An <b>a:</b>, <b>r:</b>, or <b>m:</b> immediately preceding the
<a href="../attributes.html#attrnames">attribute name</a>
can be used to indicate the attribute level as atom, residue, or (atomic) model,
but this is only needed when the name exists at multiple levels. 
The color-to-value mapping is specified
with <a href="#palette-options">palette options</a>
(default <table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=blue width="10px" title="blue"></td>
<td bgcolor=white width="10px" title="white"></td>
<td bgcolor=red width="10px" title="red"></td>
</tr></table> over the full range),
and <a href="#transparency"><b>transparency</b></a>
can be set independently.
Items without an assignment for the specified attribute
will be left unchanged unless another color is specified
with the <b>noValueColor</b> option.
</p><p>
When <b>color byattribute</b> is run interactively (in gui mode and not via a
<a href="usageconventions.html#cxc-files">script</a>),
the <b>key true</b> option can be used to
start <a href="../tools/colorkey.html"><b>Color Key</b></a>
and draw a color key with the corresponding colors and values.
</p><p>
The coloring applies to atomic models,
including cartoons and molecular surfaces, but can be restricted
to certain representations with the <a href="#target"><b>target</b></a> option.
If an atom attribute is used,
cartoons are colored by the average value of the atoms in each residue. 
Atoms (and their corresponding molecular surface patches) are colored
by the atomic values unless <b>average residue</b> is given to indicate
they should be colored by the average per residue.
</p><p>
The command <b>color bfactor</b>
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/bfactor.png"></a>&nbsp;
is shorthand for <b>color byattribute bfactor</b>.
For example, to color chain A atoms by B-factor 
and cartoons by the average B-factor per residue, 
spreading blue-white-red coloring across value range 2-30:
</p>
<blockquote>
<b>color by bfactor /A range 2,30</b>
<br>&ndash; or &ndash;<br>
<b>color bfactor /A range 2,30</b>
</blockquote>
<p>
Regardless of whether the <a href="palette-options">range</a> of values 
over which to spread the coloring is specified, the full range of atomic
values (or per-residue values if <b>average residue</b> is used) is reported
in the <a href="../tools/log.html"><b>Log</b></a>.
</p><p>
If no range for colormapping is specified, the full range over all specified 
atoms is used for atom coloring and the full range of per-residue averages 
(over that same set of atoms) is used for cartoon coloring.
Importantly, the value ranges will include solvent, ions, and ligands unless 
the specification excludes them, or they have been deleted beforehand.
For example, to rainbow-color chain A atoms <i>etc.</i> 
by the average B-factor per residue, spreading the coloring across 
the full range of values from protein only:
<blockquote>
<b>color bfactor (/A & protein) palette rainbow ave residue</b>
</blockquote>
<!--
<p>
Although <b>color bfactor</b> does not color molecular surfaces,
if atoms have been colored by B-factor, their
molecular surfaces can be colored to match with: 
</p>
<blockquote>
<b><a href="#simple">color</a> fromatoms target s</b>
</blockquote>
-->
<p>
To apply attribute coloring to a <a href="surface.html#cap">surface cap</a> 
(from <a href="clip.html">clipping</a>), it is necessary to first color
the atoms by attribute, then use <a href="color.html#zone"><b>color zone</b></a>
to make the cap match the nearby atoms.
</p>

<a name="map"></a>
<a name="sample"></a>
<a name="electrostatic"></a>
<a name="gradient"></a>
<p class="nav">
[<a href="#top">back to top: color</a>]
</p>
<h3>Coloring Surfaces by Map Value</h3>
<blockquote>
<a href="usageconventions.html"><b>Usage</b></a>:
<b>color</b> (&nbsp;<b>sample</b>&nbsp;|&nbsp;<b>electrostatic</b>&nbsp;|&nbsp;<b>gradient</b>&nbsp;)
&nbsp;<a href="atomspec.html#othermodels"><i>surf-spec</i></a>&nbsp;
[&nbsp;<b>map</b>&nbsp;&nbsp;<a href="atomspec.html#othermodels"><i>map-model</i></a>&nbsp;]
[&nbsp;<b>offset</b>&nbsp;&nbsp;<i>d</i>&nbsp;]
[&nbsp;<b>key</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
[&nbsp;<b>update</b>&nbsp;&nbsp;<b>true</b>&nbsp;|&nbsp;false&nbsp;]
[&nbsp;<a href="#palette-options"></a><b>palette</b></a>&nbsp;&nbsp;<i>palette</i>&nbsp;]
[&nbsp;<b>range</b>&nbsp;&nbsp;<i>low</i>,<i>high</i>&nbsp;|&nbsp;<b>full</b>&nbsp;]
[&nbsp;<a href="#transparency"><b>transparency</b></a>&nbsp;&nbsp;<i>percent</i>&nbsp;]
</blockquote>
<p>
The <b>sample</b>, <b>electrostatic</b>, and <b>gradient</b> coloring options
color surfaces by <a href="../tools/volumeviewer.html">volume data</a>
(map) values. To color atoms by map values, instead use 
<a href="measure.html#mapvalues"><b>measure mapvalues</b></a>
followed by <a href="#byattribute"><b>color byattribute</b></a>.
Surface coloring by map value is also implemented in the
<a href="../tools/surfacecolor.html"><b>Surface Color</b></a> tool.
The color-to-value mapping is specified
with <a href="#palette-options">palette options</a>,
where the <a href="#palette-options"><b>palette</b></a> 
default is <b>red-white-blue</b>
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=red width="10px" title="red"></td>
<td bgcolor=white width="10px" title="white"></td>
<td bgcolor=blue width="10px" title="blue"></td>
</tr></table> and the <a href="#range"><b>range</b></a> default depends on the 
specific type of map coloring, explained below.
The <a href="#transparency"><b>transparency</b></a> can be set independently. 
When the coloring command is run interactively (in gui mode and not via a
<a href="usageconventions.html#cxc-files">script</a>),
the <b>key true</b> option can be used to
start <a href="../tools/colorkey.html"><b>Color Key</b></a>
and draw a color key with the corresponding colors and values.
The <b>update</b> option (default <b>true</b>)
indicates whether to update the coloring automatically 
when the shape of the surface changes.
For coloring by segmentation region,
see <a href="segmentation.html"><b>segmentation</b></a>.
The <a href="coulombic.html"><b>coulombic</b></a>
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar...">
<img class="icon" border=1 src="../tools/shortcut-icons/esp.png"></a>
command colors molecular surfaces
by Coulombic electrostatic potential without requiring an input map.
See also: 
<a href="mlp.html"><b>mlp</b></a>
<a href="../tools/moldisplay.html" title="Molecule Display Toolbar..."><img 
class="icon" border=1 src="../tools/shortcut-icons/hydrophobicity.png"></a>,
<a href="surface.html#cap"><b>surface cap</b></a>,
<a href="clip.html#model">per-model clipping</a>,
the <a href="../tutorials/binding-sites.html">Protein-Ligand Binding Sites
tutorial</a>
</p>
<ul>
<li><b>color sample</b> colors by map value.
The value for each surface vertex is found by trilinear interpolation
from the eight corners of the enclosing data grid cell.
The <a name="offset"><b>offset</b></a> <i>d</i> is how far out 
from each surface vertex, along its normal, to evaluate the data
(default <b>0.0</b> &Aring;). The <a href="#range"><b>range</b></a>
specifies what data values the palette colors should span
(default <b>full</b>, the full range of values found at the surface).
<br><br>
<li><b>color electrostatic</b> is the same as <b>color sample</b> except
with default <b>offset</b> <b>1.4</b> &Aring; 
and default <a href="#range"><b>range</b></a> <b>-10,10</b>.
An offset of 1.4 &Aring; is typically used for coloring a 
<a href="surface.html">molecular surface</a> by electrostatic potential,
to show the values that any atoms binding to the outside of the surface 
would &ldquo;see&rdquo; at their centers.
A molecular surface in ChimeraX is the
<a href="surface.html#surfdefs">solvent-excluded surface</a>
where the surface of a spherical probe can lie. The default probe radius
is 1.4 &Aring;, so an offset of 1.4 &Aring; approximates the
<a href="surface.html#surfdefs">solvent-accessible surface</a>,
as close as the center of the probe can get to the molecule.
**However, an offset of 0.0 may be preferred for coloring
the <a href="surface.html#cap">cap</a>
of a <a href="clip.html">clipped</a> surface,
and a zero or negative offset for coloring the surface of one structure
by the potential from another.**
<br><br>
<li><b>color gradient</b> colors by map gradient norm with 
default <b>offset</b> <b>0.0</b> &Aring; and default <b>range</b> <b>full</b>.
The gradient at each volume grid point is
computed by taking the difference in data values between the
next and preceding grid points along each axis and dividing by twice
the grid spacing, and then
the gradient at a surface vertex is found by trilinear interpolation
from the eight corners of the enclosing data grid cell.
The norm of the interpolated gradient (the length of the gradient vector)
is used for assigning colors.
The <b>map</b> specification can be omitted when it is the same
model as the surface being colored.
</ul>
<!--
<h4><a href="#map" class="nounder">&larr;</a> Examples</h4>
-->
<h4>Examples (<a href="#map">Map</a>)</h4>
Color molecular surface of #1 by the electrostatic potential in map #2,
from red at -10 (and below) to white in the middle to blue at +10 (and above):
<blockquote>
<b>color electrostatic #1 map #2 palette redblue &nbsp;range -10,10</b>
</blockquote>
Same as previous except use royal blue instead of blue:
<blockquote>
<b>color elec #1 map #2 palette -10,red:0,white:10,royalblue</b>
</blockquote>

<a name="distance"></a>
<a name="radial"></a>
<a name="cylindrical"></a>
<a name="height"></a>
<p class="nav">
[<a href="#top">back to top: color</a>]
</p>
<h3>Coloring by Distance</h3>
<blockquote>
<a href="usageconventions.html"><b>Usage</b></a>:
<b>color</b> &nbsp;<b>radial</b>
&nbsp;<a href="atomspec.html#othermodels"><i>surf-spec</i></a>&nbsp;
[&nbsp;<b>center</b>&nbsp;&nbsp;<a href="pointspec.html#point"><i>point-spec</i></a>&nbsp;]
[&nbsp;<b>coordinateSystem</b>&nbsp;&nbsp;<a href="atomspec.html#hierarchy"><i>model-spec</i></a>&nbsp;]
[&nbsp;<b>key</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
[&nbsp;<b>update</b>&nbsp;&nbsp;<b>true</b>&nbsp;|&nbsp;false&nbsp;]
&nbsp;<a href="#palette-options"><i>palette-options</i></a>&nbsp;
<br>
<a href="usageconventions.html"><b>Usage</b></a>:
<b>color</b> (&nbsp;<b>cylindrical</b>&nbsp;|&nbsp;<b>height</b>&nbsp;)
&nbsp;<a href="atomspec.html#othermodels"><i>surf-spec</i></a>&nbsp;
[&nbsp;<b>center</b>&nbsp;&nbsp;<a href="pointspec.html#point"><i>point-spec</i></a>&nbsp;]
[&nbsp;<b>axis</b>&nbsp;&nbsp;<a href="pointspec.html#vector"><i>vector-spec</i></a>&nbsp;]
[&nbsp;<b>coordinateSystem</b>&nbsp;&nbsp;<a href="atomspec.html#hierarchy"><i>model-spec</i></a>&nbsp;]
[&nbsp;<b>key</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
[&nbsp;<b>update</b>&nbsp;&nbsp;<b>true</b>&nbsp;|&nbsp;false&nbsp;]
&nbsp;<a href="#palette-options"><i>palette-options</i></a>&nbsp;
</blockquote>
<p>
Coloring by distance applies to surfaces only,
both molecular and nonmolecular (such as volume isosurfaces).
It is also implemented in the
<a href="../tools/surfacecolor.html"><b>Surface Color</b></a> tool.
The color-to-distance mapping is specified
with <a href="#palette-options">palette options</a>
(default <table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=red width="10px" title="red"></td>
<td bgcolor=white width="10px" title="white"></td>
<td bgcolor=blue width="10px" title="blue"></td>
</tr></table> across the full range).
When the coloring command is run interactively (in gui mode and not via a
<a href="usageconventions.html#cxc-files">script</a>),
the <b>key true</b> option can be used to
start <a href="../tools/colorkey.html"><b>Color Key</b></a>
and draw a color key with the corresponding colors and values.
The <b>update</b> option (default <b>true</b>)
indicates whether to update the coloring automatically 
when the shape of the surface changes.
</p>
<ul>
<li><b>color radial</b> colors by distance from a 
<a href="pointspec.html#point">point</a> given with the <b>center</b> option.
<li><b>color cylindrical</b> colors by distance from an axis.
The axis is defined by a <a href="pointspec.html#point">point</a> 
on the axis (given with <b>center</b>) 
and its direction (a <a href="pointspec.html#vector">vector</a> 
given with <b>axis</b>).
<li><b>color height</b> colors by topographic height, or distance from a plane.
The plane is defined by a <a href="pointspec.html#point">point</a>
on the plane (given with <b>center</b>)
and a <a href="pointspec.html#vector">vector</a> 
normal to the plane (given with <b>axis</b>).
</ul>
The <b>coordinateSystem</b> for interpreting center and axis coordinates
can be specified by reference model number. If no reference model is given,
the <a href="view.html#scenecoords">scene coordinate system</a>
will be used for the center 
and the <a href="view.html#screencoords">screen coordinate system</a>
(X horizontal, Y vertical, Z in/out) for the axis.
</p>

<a name="zone"></a>
<p class="nav">
[<a href="#top">back to top: color</a>]
</p>
<h3>Coloring by Zone</h3>
<blockquote>
<a href="usageconventions.html"><b>Usage</b></a>:
<b>color</b> &nbsp;<b>zone</b>
&nbsp;<a href="atomspec.html#othermodels"><i>surf-spec</i></a>&nbsp;
<b>near</b>&nbsp;&nbsp;<a href="atomspec.html"><i>atom-spec</i></a>&nbsp;
[&nbsp;<b>distance</b>&nbsp;&nbsp;<i>cutoff</i>&nbsp;]
[&nbsp;<b>sharpEdges</b></a>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
[&nbsp;<b>bondPointSpacing</b>&nbsp;<i>s</i>&nbsp;]
[&nbsp;<b>farColor</b>&nbsp;&nbsp;<a href="colornames.html"><i>color-spec</i></a>&nbsp;|&nbsp;keep&nbsp;]
[&nbsp;<b>update</b>&nbsp;&nbsp;<b>true</b>&nbsp;|&nbsp;false&nbsp;]
</blockquote>
<p>
Coloring by <b>zone</b> to match nearby atoms or
<a href="../markers.html">markers</a> applies to surfaces only.
The <b>distance</b> <i>cutoff</i> is specified in physical units,
typically &Aring; (default <b>2.0</b>).
The corresponding <a href="../tools/densitymaps.html"><b>Map</b></a> icon
<img class="icon" border=1 src="../tools/shortcut-icons/colorzone.png">
uses a <b>distance</b> value six times the grid spacing of the map.
The graphical implementation,
<a href="../tools/colorzone.html"><b>Color Zone</b></a>,
includes a slider for adjusting the cutoff distance.
</p><p>
For coloring a <a href="surface.html">molecular surface</a>
(and/or its <a href="surface.html#cap">caps</a> where sliced by
<a href="clip.html">clipping</a>)
to match the underlying atoms, a cutoff of at least the diameter of the 
surface-calculation probe (which defaults to 2.8 &Aring;) is recommended.
When multiple specified atoms fall within the cutoff distance of a 
surface vertex, the vertex will be colored to match the closest one.
If <b>bondPointSpacing</b> is specified, points
spaced <i>s</i> &Aring; apart along bonds will be used
in addition to the atoms to define the zone.
The <b>farColor</b> option indicates how to color vertices that are
not within the cutoff distance of any of the atoms: either a specific
color or <b>keep</b> to retain their current colors.
If the <b>farColor</b> option is not given, 
the single-color setting of the surface model will be used.
</p><p>
The <b>sharpEdges</b> option (default <b>false</b>) subdivides surface
triangles to create sharp boundaries between the different colored regions.
The <b>update</b> option (default <b>true</b>)
indicates whether to update the coloring automatically 
when the shape of the surface changes.
</p><p>
A map that has been colored by zone can be split accordingly with
<a href="volume.html#splitbyzone"><b>volume splitbyzone</b></a>.
For coloring by segmentation region, 
see <a href="segmentation.html"><b>segmentation</b></a>.
</p>

<a name="single"></a>
<p class="nav">
[<a href="#top">back to top: color</a>]
</p>
<h3><b>Removing Coloring by Value or Zone</b></h3>
<blockquote>
<a href="usageconventions.html"><b>Usage</b></a>:
<b>color</b> &nbsp;<b>single</b>
&nbsp;<a href="atomspec.html#othermodels"><i>surf-model</i></a>&nbsp;
</blockquote>
<p>
The <b>color single</b> command removes surface per-vertex colors
such as from coloring by value
(<a href="#byattribute">attribute</a>, <a href="#map">map</a>, 
<a href="#distance">distance</a>,
<a href="coulombic.html"><b>coulombic</b></a>, or
<a href="mlp.html"><b>mlp</b></a>), <a href="#zone">by zone</a>,
or by the atomic patches in a <a href="surface.html">molecular surface</a>.
The surface model is returned to its single-color setting.
</p>

<a name="image"></a>
<p class="nav">
[<a href="#top">back to top: color</a>]
</p>
<h3>Coloring from Image File</h3>
<blockquote>
<a href="usageconventions.html"><b>Usage</b></a>:
<b>color</b> &nbsp;<b>image</b>
&nbsp;<a href="atomspec.html#othermodels"><i>surf-spec</i></a>&nbsp;
[&nbsp;<b>file</b>&nbsp;&nbsp;none&nbsp;|&nbsp;<i>input-image-file</i></a>&nbsp;[&nbsp;<b>modulate</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]]
[&nbsp;<b>coords</b></a>&nbsp;&nbsp;pole&nbsp;|&nbsp;south&nbsp;|&nbsp;sphere&nbsp;|&nbsp;vertexcolors&nbsp;]
[&nbsp;<b>writeColors</b>&nbsp;&nbsp;<i>output-image-file</i>&nbsp;]
</blockquote>
<p>
Coloring by <b>image</b> applies to surfaces only. In this technique, 
also known as <a href="https://en.wikipedia.org/wiki/Texture_mapping" 
target="_blank">texture mapping</a>, surface vertices are associated with
U,V coordinates that map to the X,Y coordinates in an image.
The <b>file</b> option specifies an image from a file to paste 
onto the surface (<a href="save.html#imgformats">image format</a> 
indicated by the filename suffix), or <b>none</b>,
<!-- needed before doing any other type of coloring -->
which clears any previous image coloring (since coloring by image
does not work with <a href="undo.html"><b>undo</b></a>).
Omitting the <b>file</b> option 
keeps using the previously specified image, if any, for texture mapping.
The <b>modulate</b> option indicates whether the image in the file should
modulate rather than replace the current surface coloring (default <b>false</b>,
which changes the underlying surface color to white so that the resulting
coloring will come from the image only).
</p><p>
An image is rectangular, with XY coordinates (0,0) at the lower left corner
and (1,1) at the top right. 
The <b>coords</b> setting indicates how UV coordinates should be assigned
to surface vertices:
</p>
<ul>
<li><b>pole</b>
&ndash; surface north pole at the middle of the image (U,V = 0.5,0.5)
and the south pole on a circle touching the image edges
<li><b>south</b>
&ndash; as above, except reversing north and south
<li><b>sphere</b>
&ndash; UV coordinates are the latitude and longitude of a vertex
on a sphere centered at 0,0,0 in the surface model coordinate system
<li><b>vertexcolors</b>
&ndash; UV coordinates are determined from the existing vertex colors,
a unique U,V pair for each color; this would be used without specifying 
an input image.
The <b>writeColors</b> option can then be used to save the corresponding 
XY image file (with <a href="save.html#imgformats">format</a>
indicated by the filename suffix).
This allows saving texture coloring for import into other programs
that do not use vertex colors directly, and is most useful for 
surfaces with a handful of distinct colors rather than many color gradations.
</ul>
<p>
If the <b>coords</b> option is not used, UV coordinates are not assigned 
(for example, to allow using Python to assign them in some other way).
</p>

<a name="palette-options"></a>
<p class="nav">
[<a href="#top">back to top: color</a>]
</p>
<h3>Palette Options</h3>
<p>
A <b><i>palette</i></b> is an ordered set of 
<a href="colornames.html">colors</a> or value,color pairs
used for <a href="#sequential">sequential coloring</a> or coloring by value 
(<a href="#map">map</a>, <a href="#distance">distance</a>,
or <a href="#byattribute">attribute</a>).
See also: 
<a href="coulombic.html"><b>coulombic</b></a>,
<a href="mlp.html"><b>mlp</b></a>,
<a href="measure.html#convexity"><b>measure convexity</b></a>
<blockquote>
<a name="palette"></a><b>palette</b></a>&nbsp;&nbsp;<i>palette</i>
<br>
The <i>palette</i> can be specified as one of the following
(or as <b>^</b><i>palette</i> to reverse the order of the colors):
<ul>
<li><i>palette-name</i> &ndash; the name of an existing 
<a href="palettes.html">palette</a>;
the command <a href="palette.html#list"><b>palette list</b></a>
lists the names of the available palettes
in the <a href="../tools/log.html"><b>Log</b></a>.
Predefined palettes include the following, with
colors shown in ascending value order:
  <ul>
  <li><b>rainbow</b>
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=blue width="30px" title="blue"></td>
<td bgcolor=cyan width="30px" title="cyan"></td>
<td bgcolor=lime width="30px" title="lime"></td>
<td bgcolor=yellow width="30px" title="yellow"></td>
<td bgcolor=red width="30px" title="red"></td>
</tr></table>
(default for <a href="#sequential">sequential coloring</a>)
  <li><b>red-white-blue</b> or <b>redblue</b>
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=red width="30px" title="red"></td>
<td bgcolor=white width="30px" title="white"></td>
<td bgcolor=blue width="30px" title="blue"></td>
</tr></table>
(default for <a href="#map">coloring by map value</a>
or <a href="#distance">coloring by distance</a>)
  <li><b>blue-white-red</b> or <b>bluered</b>
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=blue width="30px" title="blue"></td>
<td bgcolor=white width="30px" title="white"></td>
<td bgcolor=red width="30px" title="red"></td>
</tr></table>
(default for <a href="#byattribute">coloring by attribute</a>)
  <li><b>cyan-white-maroon</b> or <b>cyanmaroon</b> 
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=#0f1bc7adcf5b width="30px" title="#0f1bc7adcf5b"></td>
<td bgcolor=white width="30px" title="white"></td>
<td bgcolor=#9eb820005eb8 width="30px" title="#9eb820005eb8"></td>
</tr></table>
  <li><b>cyan-gray-maroon</b>
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=#0f1bc7adcf5b width="30px" title="#0f1bc7adcf5b"></td>
<td bgcolor=#b333b333b333 width="30px" title="#b333b333b333"></td>
<td bgcolor=#9eb820005eb8 width="30px" title="#9eb820005eb8"></td>
</tr></table>
  (default for <a href="measure.html#convexity"><b>measure convexity</b></a>,
  along with <a href="#range"><b>range</b></a> -1,1)
  <li><b>grayscale</b> or <b>gray</b>
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=black width="30px" title="black"></td>
<td bgcolor=white width="30px" title="white"></td>
</tr></table>
  <li><b>lipophilicity</b>
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td bgcolor=darkcyan width="30px" title="darkcyan"></td>
<td bgcolor=white width="30px" title="white"></td>
<td bgcolor=darkgoldenrod width="30px" title="darkgoldenrod"></td>
</tr></table>
  (default for the <a href="mlp.html"><b>mlp</b></a> command,
  along with <a href="#range"><b>range</b></a> -20,20)
  <li><a href="palettes.html#colorbrewer">ColorBrewer palettes</a> -
a default number of colors will be used if the number is omitted from the name.
Examples:
<blockquote>
<b>palette pastel2-4</b>
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td style="background:#b3e2cd" width="30px" title="#b3e2cd"></td>
<td style="background:#fdcdac" width="30px" title="#fdcdac"></td>
<td style="background:#cbd5e8" width="30px" title="#cbd5e8"></td>
<td style="background:#f4cae4" width="30px" title="#f4cae4"></td>
</tr></table>
<br><b>palette paired-6</b>
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td style="background:#a6cee3" width="30px" title="#a6cee3"></td>
<td style="background:#1f78b4" width="30px" title="#1f78b4"></td>
<td style="background:#b2df8a" width="30px" title="#b2df8a"></td>
<td style="background:#33a02c" width="30px" title="#33a02c"></td>
<td style="background:#fb9a99" width="30px" title="#fb9a99"></td>
<td style="background:#e31a1c" width="30px" title="#e31a1c"></td>
</tr></table>
<br><b>palette piyg</b>
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td style="background:#d01c8b" width="30px" title="#d01c8b"></td>
<td style="background:#f1b6da" width="30px" title="#f1b6da"></td>
<td style="background:#f7f7f7" width="30px" title="#f7f7f7"></td>
<td style="background:#b8e186" width="30px" title="#b8e186"></td>
<td style="background:#4dac26" width="30px" title="#4dac26"></td>
</tr></table>
<br><b>palette ^piyg</b>
<table border cellpadding="4" cellspacing="0"
style="display:inline-block; vertical-align:middle"><tr>
<td style="background:#4dac26" width="30px" title="#4dac26"></td>
<td style="background:#b8e186" width="30px" title="#b8e186"></td>
<td style="background:#f7f7f7" width="30px" title="#f7f7f7"></td>
<td style="background:#f1b6da" width="30px" title="#f1b6da"></td>
<td style="background:#d01c8b" width="30px" title="#d01c8b"></td>
</tr></table>
</blockquote>
Users should cite:
www.ColorBrewer.org, color specifications and designs by Cynthia A. Brewer,
Pennsylvania State University.
  </ul>
<br>
<li> <i>color1</i>:<i>color2</i>:<i>color3</i>...
a series of <a href="colornames.html">color specifications</a> 
separated by colons,
collectively enclosed in quotation marks if it contains any spaces
(example: <b>palette&nbsp;cornflowerblue:red:gold</b> or
<b>palette&nbsp;"cornflower&nbsp;blue:red:gold"</b>).
The colors are placed evenly along the range,
with the first and last colors at the extremes.
Colors for intermediate values are interpolated.
<br><br>
<li> <i>value1,color1</i>:<i>value2,color2</i>:<i>value3,color3</i>...
a series of <i>value,<a href="colornames.html">color</a></i> pairs 
separated by colons,
collectively enclosed in quotation marks if it contains any spaces
(example: <b>palette "0,cornflower&nbsp;blue:1,gold:0.7,red"</b>).
For <b>sequential</b> coloring,
an entire range (such as the residues in each chain 
or the chains in each model) is always mapped to fractional values 0.0-1.0.
For numerical data,
the values can be expressed directly on the scale of the data
(<a href="#range"><b>range</b></a> not used)
or as fractional values 0.0-1.0 across a range of data
specified with <a href="#range"><b>range</b></a>.
Values below the lowest given value will map to the same color as the lowest,
and values above the highest will map to the same color as the highest.
Colors are interpolated between specified value-color pairs; 
discrete coloring can be achieved by specifying the same color 
for the upper- and lower-bound values of a &ldquo;bin.&rdquo;
Reversing the colors in this type of palette specification with <b>^</b> 
is not recommended, as it would disrupt the specified color-value pairing.
<br><br>
<li> <i>colourlovers-id</i> 
&ndash; the ID number, name, or name+author of a palette to be fetched from 
<a href="https://www.colourlovers.com/" target="_blank">COLOURlovers.com</a>. 
Examples:
<blockquote>
<b>palette 92095</b><br>
<b>palette "Giant Goldfish"</b><br>
<b>palette "Giant Goldfish by manekineko"</b><br>
<b>palette "^Giant Goldfish"</b>
</blockquote>
The page of a specific palette at 
<a href="https://www.colourlovers.com/" target="_blank">COLOURlovers.com</a>
shows its name, author, ID number (in the URL), and any licensing stipulations
for its use. 
Palette names with spaces must be enclosed in quotation marks.
Palette names are not necessarily unique, and the most-viewed palette of
a specified name will be fetched unless <b>by <i>author</i></b> is appended,
as in the example above.
Palette and author names must be capitalized as shown on the website.
Palettes with &ldquo;all rights reserved&rdquo; cannot be fetched.
In ChimeraX, the palette colors are used in left-to-right order,
spaced equally along the range of values.
Web-fetched palettes are cached locally as
<a href="open.html#fetch">described for <b>open</b></a>.
</ul>
</blockquote>
<blockquote>
<a name="range"></a>
<b>range</b> &nbsp;<i>low</i>,<i>high</i>&nbsp;|&nbsp;<b>full</b>
<br>
For numerical data only (not <a href="#sequential">sequential coloring</a>), 
what values should map to the extremes of the palette (default <b>full</b>,
the minimum and maximum values for the items to be colored). 
Alternatively, <i>low</i> and <i>high</i> values separated by a comma only
can be supplied.
When multiple models are colored in a single command,
the <b>full</b> range is determined separately for each model.
</blockquote>

<hr>

<a name="name"></a>
<a name="delete"></a>
<a name="list"></a>
<a name="show"></a>
<p class="nav">
[<a href="#top">back to top: color</a>]
</p>
<h3>Defining and Listing Colors</h3>

<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>color name</b> &nbsp;<i>cname</i>
&nbsp;<a href="colornames.html"><i>color-spec</i></a>
</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>color delete</b>
(&nbsp;<i>cname</i>&nbsp;|&nbsp;custom&nbsp;)
</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>color list</b>
[&nbsp;<b>all</b>&nbsp;|&nbsp;builtin&nbsp;|&nbsp;custom&nbsp;]
</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>color show</b> &nbsp;<i>cname</i>
</h3>
<p>
The command <b>color name</b> assigns <i>cname</i> as the name of the
<a href="colornames.html">specified</a> color.  
It can be used to define a new color name or redefine an existing one. 
A <a href="colornames.html#builtin">built-in color name</a>, however,
cannot be redefined.
Color names must begin with an alphabetical letter and may contain 
only lowercase letters, numbers, hyphens, underscores, and spaces. 
If <i>cname</i> has embedded spaces, it must be enclosed in quotation marks.
Examples:
</p>
<blockquote>
<b>color name tpurple 60,0,80,50</b>
<br>
<b>color name tgreen rgba(0%, 80%, 40%, 0.5)</b>
</blockquote>
<p>
Colors can be defined automatically at ChimeraX startup by including
<b>color name</b> commands in the
<a href="../preferences.html#startup"><b>Startup</b> preferences</a>.
</p><p>
The command <b>color delete</b> can be used to &ldquo;forget&rdquo; a specific
user-defined color or all <b>custom</b> (user-defined) colors. 
A <a href="colornames.html#builtin">built-in color name</a> cannot be deleted.
User-defined color names are saved in <a href="save.html#session">sessions</a>.
</p><p>
The command <b>color list</b> lists color names along with
color swatches in the <a href="../tools/log.html"><b>Log</b></a>, with options:
</p>
<ul>
<li><b>all</b> (default)
<li><b>builtin</b> &ndash; just the 
<a href="colornames.html#builtin">built-in colors</a>
<li><b>custom</b> &ndash; just the user-defined colors
</ul>
<p>
The command &ldquo;<b>color show</b> <i>cname</i>&rdquo;
reports in the <a href="../tools/log.html"><b>Log</b></a>
the <b>rgba</b> (red, green, blue, opacity) definition of an existing color
named <i>cname</i>.
See also: <a href="palette.html#list"><b>palette list</b></a>
</p>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
June 2021</address>
</body></html>
