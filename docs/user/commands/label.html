<html>

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Command: label</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRight" title="User Guide Index"/></a>

<h3><a href="../index.html#commands">Command</a>: label</h3>

<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>label</b>&nbsp;&nbsp;<a href="atomspec.html"><i>atom-spec</i></a>&nbsp;
[&nbsp;atoms&nbsp;|&nbsp;<b>residues</b>&nbsp;|&nbsp;bonds&nbsp;|&nbsp;pseudobonds&nbsp;]
<!--
[&nbsp;<b>atoms</b>&nbsp;|&nbsp;<b>residues</b>&nbsp;|&nbsp;<b>bonds</b>&nbsp;|&nbsp;<b>pseudobonds</b>&nbsp;]
[&nbsp;<a href="#text"><b>text</b></a>&nbsp;&nbsp;<i>label-contents</i>&nbsp;|&nbsp;<b>default</b>&nbsp;]
-->
[&nbsp;<a href="#color"><b>color</b></a>&nbsp;&nbsp;<a href="colornames.html"><i>color-spec</i></a>&nbsp;|&nbsp;<b>default</b>&nbsp;]
[&nbsp;<a href="#height"><b>height</b></a>&nbsp;&nbsp;<i>h</i>&nbsp;|&nbsp;fixed&nbsp;]
&nbsp;<a href="#options"><i>other-options</i></a>
</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>label
delete</b>&nbsp;&nbsp;<a href="atomspec.html"><i>atom-spec</i></a>&nbsp;
[&nbsp;atoms&nbsp;|&nbsp;residues&nbsp;|&nbsp;bonds&nbsp;|&nbsp;pseudobonds&nbsp;]
<br>&ndash; or &ndash;<br>
<b>~label</b>&nbsp;&nbsp;<a href="atomspec.html"><i>atom-spec</i></a>&nbsp;
[&nbsp;atoms&nbsp;|&nbsp;residues&nbsp;|&nbsp;bonds&nbsp;|&nbsp;pseudobonds&nbsp;]
</h3>
<a name="listfonts"></a>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
<br><b>label listfonts</b>
</h3>
<p>
The <b>label</b> command shows labels that move along with the associated
<b>atoms</b>, <b>residues</b>, <b>bonds</b>, or <b>pseudobonds</b> in 3D,
with <a href="#text">default contents</a>: atom name, residue name and number,
and bond or <a href="../pseudobonds.html">pseudobond</a> length.
See also: 
<a href="#settings">label settings</a>,
<a href="distance.html"><b>distance</b></a>,
<a href="2dlabels.html"><b>2dlabels</b></a>,
<a href="../menu.html#actions"><b>Actions</b> menu</a>,
<a href="../measurements.html">measurements</a>
</p><p>
These &ldquo;3D&rdquo; (although flat in appearance)
labels can be of multiple colors and sizes, and both atom and residue 
labels can be shown for the same atom at the same time.
A label is automatically hidden, however, when the corresponding item (atom,
residue, bond, or <a href="../pseudobonds.html">pseudobond</a>) is hidden.
</p><p>
Adding new labels with the <b>label</b> command requires a
non-blank <a href="atomspec.html"><i>atom-spec</i></a>. 
For <b>label</b> with a non-blank <a href="atomspec.html"><i>atom-spec</i></a>,
the default is to add (or change, if pre-existing) labels of <b>residues</b>,
although labels of <b>atoms</b>, <b>bonds</b>, or <b>pseudobonds</b> can be
specified instead.
For <b>label</b> with a blank <a href="atomspec.html"><i>atom-spec</i></a>,
or <b>label delete</b> regardless of whether the 
<a href="atomspec.html"><i>atom-spec</i></a> is blank, the default is 
all types of 3D labels unless explicitly limited to one of
<b>atoms</b>, <b>residues</b>, <b>bonds</b>, or <b>pseudobonds</b>.
The command <b>~label</b> is the same as <b>label delete</b>.
</p><p>
The command <b>label listfonts</b> lists the possible <a href="#font">fonts</a>
in the <a href="../tools/log.html"><b>Log</b></a>.
</p><p>
3D labels can also be added/deleted by clicking in the graphics window
with the <b>label</b> <a href="ui.html#mousemode">mouse mode</a>
<a href="../tools/mousemodes.html" title="Mouse Modes for Right Button...">
<img class="icon" border=1 src="../tools/mouse-icons/label.png"></a>.
To add text and symbols at any X,Y position in the window
for presentation-quality images and movies,
see the <a href="2dlabels.html"><b>2dlabels</b></a> command instead.
Both kinds of labels can be repositioned with the <b>move label</b> 
<a href="ui.html#mousemode">mouse mode</a>
<a href="../tools/mousemodes.html" title="Mouse Modes for Right Button...">
<img class="icon" border=1 src="../tools/mouse-icons/movelabel.png"></a>.
<p>

<a name="options"></a>
<p class="nav">
[<a href="#top">back to top: label</a>]
</p>
<h3>Options</h3>
<p>
Parameters that are not specified retain their current values.
</p>

<blockquote>
<a name="text"></a>
<b>text</b>&nbsp;&nbsp;<i>label-contents</i>&nbsp;|&nbsp;<b>default</b>
<br>
Specify label contents, which can be an arbitrary string or information 
on the labeled items. The <b>default</b> information is:
<ul>
<li>for <b>atoms</b>, atom name
<li>for <b>residues</b> (default), residue name and number
<li>for <b>bonds</b> or <b>pseudobonds</b>, length 
</ul>
For other <a href="../attributes.html">attributes</a> of the items,
see <a href="#attribute">below</a>.
Arbitrary <i>label-contents</i> can include 
letters, numbers, symbols from the keyboard; 
additional <a href="symbols.html">symbols</a> can be copied and pasted
into the command line, or indicated with
<a href="https://unicode.org/charts/" target="_blank">unicode</a> 
character codes or character names.
(See <a href="2dlabels.html"><b>2dlabels</b></a> for Unicode examples.)
Spaces and quotation marks can be included by enclosing the 
entire <i>label-contents</i> in single or double quotation marks.
Carriage returns are indicated with <b>\n</b>. 
Since arbitrary text might also start with the letter &ldquo;d&rdquo;
the entire word <b>default</b> (without truncation) must be given
to return to default label contents.
</p>
</blockquote>

<blockquote>
<a name="attribute"></a>
<b>attribute</b>&nbsp;&nbsp;<a href="../attributes.html#attrnames"><i>attribute-name</i></a>
<br>
Atoms and residues can be labeled by the values of an
<a href="../attributes.html">attribute</a> at the same or higher level.
The <b>attribute</b> option shows the values of a single attribute with
default formatting, whereas the <b>text</b> option
can be used to combine the attribute with arbitrary text, 
label with more than one attribute at a time, and/or include
<a href="https://docs.python.org/3/library/string.html#formatstrings"
target="_blank">python format specifications</a>.
Examples:
</p>
 <blockquote><b>
label ligand atoms attribute idatm_type
</b>&nbsp;&nbsp;&ndash;&nbsp;same as&nbsp;&ndash;&nbsp;&nbsp;<b>
label ligand atoms text {0.idatm_type}
<br>
label sel atoms attribute bfactor
</b>&nbsp;&nbsp;&ndash;&nbsp;same as&nbsp;&ndash;&nbsp;&nbsp;<b>
label sel atoms text {0.bfactor:.3g}
<br>
label @ca atoms attr residue.number
</b>&nbsp;&nbsp;&ndash;&nbsp;same as&nbsp;&ndash;&nbsp;&nbsp;<b>
label @ca atoms text {0.residue.number}
<br>
label @ca residues attr number
<br>
label :1 residues attr chain_id height 4
<br>
label /A:1 residues attr structure.name height 5 offset 1,1,1
<br>
label /A:2-12 residues text "{0.phi:.1f},{0.psi:.1f}"
<br>
label sel text "{0.name}{0.number}" height 1.5
</b></blockquote>
</blockquote>

<blockquote>
<a name="color"></a>
<b>color</b>&nbsp;&nbsp;<a href="colornames.html"><i>color-spec</i></a>&nbsp;|&nbsp;<b>default</b>
<br>
Set label color. 
If specified as <b>default</b> or <b>auto</b>, the label color will
automatically adjust to <b>white</b> or <b>black</b>
depending on the color of the <a href="#bgColor">label background</a>, 
or if there is no label background, depending on the color of
the <a href="set.html#bgColor">window background</a>.
</blockquote>

<a name="bgColor"></a>
<blockquote>
<b>bgColor</b>&nbsp;&nbsp;<a href="colornames.html"><i>color-spec</i></a>&nbsp;|&nbsp;<b>none</b>
<br>
Show a rectangular background of the 
<a href="colornames.html">specified color</a>
behind the label text (default <b>none</b>, no background).
</blockquote>

<blockquote>
<a name="height"></a>
<b>height</b>&nbsp;&nbsp;<i>h</i>&nbsp;|&nbsp;fixed
<br>
Set label height in &Aring; (default <i>h</i> specified in the
<a href="../preferences.html#labels"><b>Labels</b> preferences</a>
or with <a href="#defaultHeight"><b>label defaultHeight</b></a>)
or keep label size <b>fixed</b> relative to the screen.
The related <a href="#size"><b>size</b></a> option sets label quality,
or if <b>height</b> is <b>fixed</b>, the label pixel size.
See also: <a href="#orient"><b>label orient</b></a>
</blockquote>

<blockquote>
<a name="size"></a>
<b>size</b>&nbsp;&nbsp;<i>font-size</i>&nbsp;|&nbsp;<b>default</b>
<br>
Set label quality or pixel size (default <b>48</b>). 
Larger values give smoother edges,
or if <a href="#height"><b>height</b></a> is <b>fixed</b>, larger labels.
</blockquote>

<blockquote>
<a name="font"></a>
<b>font</b>&nbsp;&nbsp;<i>font-type</i>&nbsp;|&nbsp;<b>default</b>
<br>
Specify label font (default <b>Arial</b>); the command <b>label listfonts</b>
lists the possible values of <i>font-type</i> in the 
<a href="../tools/log.html"><b>Log</b></a>.
Those containing spaces must be enclosed in quotation marks.
</blockquote>

<blockquote>
<b>offset</b>&nbsp;&nbsp;<i>x,y,z</i>&nbsp;|&nbsp;<b>default</b>
<br>
Specify an absolute offset for a label as
three comma-separated values <i>x,y,z</i> representing distances along the
X-, Y-, and Z-axes in the 
<a href="view.html#screencoords">screen coordinate system</a>.
Negative values can be given.
<!-- Label offsets can also be adjusted with the mouse. -->
The default offset is <b>(<i>display_radius</i> + 0.2),0,0.5</b>.
</blockquote>

<blockquote>
<b>onTop</b>&nbsp;&nbsp;<b>true</b>&nbsp;|&nbsp;false
<br>
Whether to draw the labels on top of other objects regardless of their
relative positions in 3D (default <b>true</b>);
can be set differently for different models.
Labels that are not on top will not show through a transparent surface 
unless <i>all</i> of the labels displayed for that model have a 
<a href="#bgColor">background</a>.
</blockquote>

<a name="settings"></a>
<p class="nav">
[<a href="#top">back to top: label</a>]
</p>
<h3>Label Settings</h3>

<blockquote>
<a name="defaultHeight"></a>
<a href="usageconventions.html">Usage</a>:
<b>label defaultHeight</b> &nbsp;<i>h</i>
</blockquote>
<p>
The command <b>label defaultHeight</b>
sets the <a href="../preferences.html#labels"><b>Labels</b> preference</a>
for 3D label <a href="#height">height</a> in distance units.
</p>

<blockquote>
<a name="orient"></a>
<a href="usageconventions.html">Usage</a>:
<b>label orient</b> [&nbsp;<i>update-angle</i>&nbsp;]
</blockquote>
<p>
The command <b>label orient</b> specifies what change in viewing direction 
should trigger redrawing labels to face the viewer. 
The default <i>update-angle</i> is <b>0.0</b>&deg;, 
constant label reorientation. In <a href="../vr.html">virtual reality</a>, 
however, it is automatically set to 45&deg; to reduce the frequency of 
label updates that could slow rendering. 
If <i>update-angle</i> is omitted, the current value is
reported in the <a href="../tools/log.html"><b>Log</b></a>.
This setting only applies to labels with <a href="#height">heights</a>
set in distance units;
those with <a href="#height">fixed heights</a> always face the viewer.
</p>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics / 
September 2023</address>
</body></html> 
