include ../Makefile.bundle

DEVEL_ARGS = test false

CSRCS = $(wildcard _mmtf/*.cpp)
HEADERS = $(MMTF_CPP_SOURCE) $(MSGPACK_SOURCE)

MMTF_CPP_VERSION = master
MMTF_CPP_DISTRIBUTION = mmtf-cpp-$(MMTF_CPP_VERSION).zip
MMTF_CPP_SOURCE	= mmtf-cpp-$(MMTF_CPP_VERSION)
MSGPACK_VERSION = master
MSGPACK_DISTRIBUTION = msgpack-c-$(MSGPACK_VERSION).zip
MSGPACK_SOURCE	= msgpack-c-$(MSGPACK_VERSION)

CLEAN_ALWAYS = $(MMTF_CPP_SOURCE) $(MSGPACK_SOURCE)

wheel install app-install:	$(CSRCS) $(HEADERS)

$(MMTF_CPP_SOURCE): $(MMTF_CPP_DISTRIBUTION)
	# only need the include files
	unzip -u $(MMTF_CPP_DISTRIBUTION) '$(MMTF_CPP_SOURCE)/include/*'

$(MSGPACK_SOURCE): $(MSGPACK_DISTRIBUTION)
	# only need the include files
	unzip -u $(MSGPACK_DISTRIBUTION) '$(MSGPACK_SOURCE)/include/*'
