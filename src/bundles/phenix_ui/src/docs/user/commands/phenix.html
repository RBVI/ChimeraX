<html>

<!--
=== UCSF ChimeraX Copyright ===
Copyright 2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  For details see:
http://www.rbvi.ucsf.edu/chimerax/docs/licensing.html
This notice must be embedded in or attached to all copies,
including partial copies, of the software or any revisions
or derivations thereof.
=== UCSF ChimeraX Copyright ===
-->

<head>
<link rel="stylesheet" type="text/css" href="../userdocs.css" />
<title>Command: phenix</title>
</head><body>

<a name="top"></a>
<a href="../index.html">
<img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
class="clRight" title="User Guide Index"/></a>

<h3><a href="../index.html#commands">Command</a>: phenix</h3>
<p>
The <b>phenix</b> command is provided by the <b>PhenixUI</b> bundle.
It interfaces with a local installation of
<a href="https://www.phenix-online.org" target="_blank">Phenix</a>.
See also: <a href="volume.html"><b>volume</b></a>
</p>
<ul>
<li><a href="#douse"><b>phenix douse</b></a> 
&ndash; place waters into EM density
<li><a href="#emplaceLocal"><b>phenix emplaceLocal</b></a>
&ndash; local fitting into EM density
<li><a href="#location"><b>phenix location</b></a>
&ndash; specify location of Phenix installation
</ul>

<a name="douse"></a>
<a href="#top" class="nounder">&bull;</a>
<b>phenix douse</b>
&nbsp;<a href="atomspec.html#othermodels"><i>map-model</i></a>&nbsp;
<b>nearModel</b>
&nbsp;<a href="atomspec.html#hierarchy"><i>atomic-model</i></a>&nbsp;
[&nbsp;<b>resolution</b>&nbsp;&nbsp;<i>r</i>&nbsp;]
[&nbsp;<b>keepInputWater</b>&nbsp;&nbsp;<b>true</b>&nbsp;|&nbsp;false&nbsp;]
[&nbsp;<b>farWater</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
[&nbsp;<b>mapRange</b>&nbsp;&nbsp;<i>dist<sub>m</sub></i>&nbsp;]
[&nbsp;<b>residueRange</b>&nbsp;&nbsp;<i>dist<sub>r</sub></i>&nbsp;]
[&nbsp;<b>verbose</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
[&nbsp;<b>phenixLocation</b> &nbsp;<i>folder</i>&nbsp;]
[&nbsp;<b>block</b>&nbsp;&nbsp;true&nbsp;|&nbsp;false&nbsp;]
&nbsp;<a href="#advanced"><i>advanced-options</i></a>
<blockquote>
<p>
Run the <a href="https://phenix-online.org" target="_blank">Phenix</a> program
<a href="https://phenix-online.org/documentation/reference/douse.html"
target="_blank"><i>douse</i></a> to place water molecules in cryo-EM density.
The graphical interface to this command is
<a href="../tools/waterplacement.html"><b>Water Placement</b></a>.
The density map and corresponding atomic model should be already open
and specified as the
<a href="atomspec.html#othermodels"><i>map-model</i></a> and
<a href="atomspec.html#hierarchy"><i>atomic-model</i></a>, respectively.
Other options:
</p>
<ul>
<li><b>resolution</b>
&ndash; map resolution (default <b>3.0</b> &Aring;)
<li><b>keepInputWater</b> (default <b>true</b>)
&ndash; whether to keep pre-existing waters instead of deleting them
<li><b>farWater</b> (default <b>false</b>)
&ndash; if <b>keepInputWater</b> is <b>true</b>, whether <i>douse</i>
should use the pre-existing waters; since <i>douse</i> only places waters 
near existing atoms, setting this option to <b>true</b> means that 
<i>douse</i> may place waters that interact
directly with pre-existing waters but not the rest of the structure.
Setting this option to <b>false</b> (default) means that only waters 
that interact directly with the rest of the structure should be added.
<li><b>mapRange</b>
&ndash; show only map within <i>dist<sub>m</sub></i>
(default <b>8.0</b> &Aring;) of water atoms; specifying the distance as
0 (zero) turns off hiding by distance
<li><b>residueRange</b>
&ndash; show residues with any atom within <i>dist<sub>r</sub></i>
(default <b>5.0</b> &Aring;) of water atoms
<li><b>verbose</b> (default <b>false</b>)
&ndash; whether to echo all messages to the <a href="log.html"><b>Log</b></a>
<li><b>phenixLocation</b> &ndash; where Phenix is installed
(for example, <b>/Applications/phenix-1.20.1-4487</b>).
Giving <i>folder</i> as the word
<a href="usageconventions.html#browse"><b>browse</b></a> opens
a file browser window for locating the folder interactively.
The location is saved in <a href="../preferences.html#other">preferences</a>.
If no location is specified, the previously saved location will be used. 
<a name="inferred"></a>
If no location has been saved, however, ChimeraX will look for a folder 
name that starts with <b>phenix</b> in the user's home directory, 
and on Mac only, if none is found there, then in the system 
<b>/Applications</b> folder. The location (previously saved or inferred)
can be reported in the <a href="../tools/log.html"><b>Log</b></a>
with command: <a href="#location"><b>phenix location</b></a>
<li><b>block</b>
&ndash; whether to wait for the calculation to finish before starting to execute
any subsequent commands, default true when the command is being executed in a
<a href="usageconventions.html#cxc-files">command script</a> and/or in
<a href="../options.html#nogui">nogui mode</a>, otherwise false
</ul>
<a name="advanced"></a>
<p>
Advanced options:
</p>
</ul>
<li><b>optionArg</b> &nbsp;<i>string</i> 
&ndash; pass command-line arguments to 
<a href="https://phenix-online.org/documentation/reference/douse.html"
target="_blank"><i>douse</i></a> that need to appear before the
map/structure arguments (such as <b>--help</b>);
can be used multiple times in the same command
<li><b>positionArg</b> &nbsp;<i>string</i>
&ndash; pass command-line arguments to
<a href="https://phenix-online.org/documentation/reference/douse.html"
target="_blank"><i>douse</i></a> that need to appear after the
map/structure arguments (such as <b>dist_max=5.0</b>);
can be used multiple times in the same command
</ul>
</blockquote>

<a name="emplaceLocal"></a>
<a href="#top" class="nounder">&bull;</a>
<b>phenix emplaceLocal</b>
&nbsp;<a href="atomspec.html#hierarchy"><i>atomic-model</i></a>&nbsp;
<b>mapData</b>&nbsp;&nbsp;<a href="atomspec.html#othermodels"><i>map-model(s)</i></a>&nbsp;
<b>center</b>&nbsp;&nbsp;<a href="pointspec.html#point"><i>point-spec</i></a>&nbsp;
[&nbsp;<b>resolution</b>&nbsp;&nbsp;<i>r</i>&nbsp;]
[&nbsp;<b>verbose</b>&nbsp;&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;]
[&nbsp;<b>phenixLocation</b> &nbsp;<i>folder</i>&nbsp;]
[&nbsp;<b>block</b>&nbsp;&nbsp;true&nbsp;|&nbsp;false&nbsp;]
&nbsp;<a href="#advanced"><i>advanced-options</i></a>
<blockquote>
<p>
Run the <a href="https://phenix-online.org" target="_blank">Phenix</a> program
<a href="https://phenix-online.org/documentation/reference/emplace_local.html"
target="_blank"><i>voyager.emplace_local</i></a>
(included in the Phenix nightly build)
to fit an atomic structure within a local region of cryo-EM density.
The graphical interface to this command is
<a href="../tools/localemfitting.html"><b>Local EM Fitting</b></a>.
</p><p>
The method evaluates signal and noise using either two &ldquo;half maps&rdquo;
that cover the same spatial region but are each generated from half of the
experimental data, or a single full map, although results will not be as 
reliable as when half maps are used.
The atomic model to fit and the map(s) to use
should be already open and specified as the
<a href="atomspec.html#hierarchy"><i>atomic-model</i></a> and
<a href="atomspec.html#othermodels"><i>map-model(s)</i></a>, respectively.
Additional arguments:
</p>
<ul>
<li><b>center</b> (required, no default)
&ndash; center of the search space given as
<i>x,y,z</i> (three values separated by commas only),
an <a href="atomspec.html"><i>atom-spec</i></a>, or any of the other
standard <a href="pointspec.html#vector">point specifications</a>.
The size of the search space is based on the size of the structure 
and cannot be adjusted.
<li><b>resolution</b> &ndash; approximate resolution of the map within 
the search space. If a full map is used, a positive value must be supplied. 
If half maps are used, the <b>resolution</b>&nbsp;<i>r</i>
is optional, and if it is omitted, the value will be estimated 
from the half maps.
</ul>
<p>
The remaining options are as described above for
<a href="#douse"><b>phenix douse</b></a>.
</p>
</blockquote>

<a name="location"></a>
<a href="#top" class="nounder">&bull;</a>
<b>phenix location</b> [&nbsp;<i>folder</i>&nbsp;]
<blockquote>
Specify where Phenix is installed
(for example, <b>/Applications/phenix-1.20.1-4487</b>);
giving <i>folder</i> as the word
<a href="usageconventions.html#browse"><b>browse</b></a> opens
a file browser window for locating the folder interactively.
The location is saved in <a href="../preferences.html#other">preferences</a>.
If the <i>folder</i> argument is omitted, however, <b>phenix location</b>
reports the location (previously specified or <a href="#inferred">inferred</a>)
in the <a href="../tools/log.html"><b>Log</b></a>.
</blockquote>

<hr>
<address>UCSF Resource for Biocomputing, Visualization, and Informatics /
June 2023</address>
</body></html>
